# JavaScript

## åŸºç¡€è®¤è¯†

<img src="C:\Users\31330\Pictures\Typora\image-20220630233138792.png" alt="image-20220630233138792" style="zoom:67%;" />

å¼¹å‡ºæç¤ºå¯¹è¯æ¡†ï¼šalert("å¼¹å‡ºå¯¹è¯æ¡†")

è§£é‡Šå‹è¯­è¨€ï¼Œä¸€è¡Œä¸€è¡Œè§£é‡Šã€‚

```html
<script>
    alert("å¼¹å‡ºå¯¹è¯æ¡†")
</script>
```

![image-20220630232744108](C:\Users\31330\Pictures\Typora\image-20220630232744108.png)

è®¤è¯†js

å‘æ˜äººï¼š<img src="C:\Users\31330\Pictures\Typora\image-20220630233346373.png" alt="image-20220630233346373" style="zoom:50%;" />

<img src="C:\Users\31330\Pictures\Typora\image-20220630233406014.png" alt="image-20220630233406014" style="zoom:67%;" />

<img src="C:\Users\31330\Pictures\Typora\image-20220630233420755.png" alt="image-20220630233420755" style="zoom:80%;" />

è¿è¡Œåœ¨å®¢æˆ·ç«¯

jsçš„ä½œç”¨ï¼š

<img src="C:\Users\31330\Pictures\Typora\image-20220630233809366.png" alt="image-20220630233809366" style="zoom: 67%;" />

jsçš„ç»„æˆï¼š

<img src="C:\Users\31330\Pictures\Typora\image-20220630234201961.png" alt="image-20220630234201961" style="zoom:80%;" />

æ³¨é‡Šï¼š

![image-20220630234932831](C:\Users\31330\Pictures\Typora\image-20220630234932831.png)

<img src="C:\Users\31330\Pictures\Typora\image-20220630234958715.png" alt="image-20220630234958715" style="zoom:50%;" />

jsçš„è¾“å…¥è¾“å‡ºï¼š

<img src="C:\Users\31330\Pictures\Typora\image-20220630235052332.png" alt="image-20220630235052332" style="zoom:80%;" />

promptå–å€¼æ˜¯å­—ç¬¦å‹çš„

***

### å˜é‡

```html
var age;//å£°æ˜ä¸€ä¸ªåç§°ä¸ºageçš„å˜é‡ï¼Œèµ‹å€¼var age=18;
```

åªå£°æ˜ä¸èµ‹å€¼å€¼ä¸ºundefined

<img src="C:\Users\31330\Pictures\Typora\image-20220630235544674.png" alt="image-20220630235544674" style="zoom:80%;" />

***

## æ•°æ®ç±»å‹

æ•°æ®ç±»å‹å¯å˜

ç®€å•ï¼ˆåŸºæœ¬ï¼‰æ•°æ®ç±»å‹

<img src="C:\Users\31330\Pictures\Typora\image-20220701001333013.png" alt="image-20220701001333013" style="zoom:80%;" />

<img src="C:\Users\31330\Pictures\Typora\image-20220701002038458.png" alt="image-20220701002038458" style="zoom:80%;" />

è·å–å­—ç¬¦ä¸²Stringé•¿åº¦

```html
str.length
```

è½¬ä¹‰ç¬¦

<img src="C:\Users\31330\Pictures\Typora\image-20220701002340703.png" alt="image-20220701002340703" style="zoom:80%;" />

undefinedå’Œnull

<img src="C:\Users\31330\Pictures\Typora\image-20220701151212831.png" alt="image-20220701151212831" style="zoom:80%;" />

åˆ¤æ–­å˜é‡ç±»å‹``typeof å˜é‡å``

```html
<script>
    var str = 'roydon';
    alert(typeof str)//string
</script>
```

<img src="C:\Users\31330\Pictures\Typora\image-20220701151631900.png" alt="image-20220701151631900" style="zoom: 67%;" />

æ•°æ®ç±»å‹è½¬æ¢

1.è½¬æ¢æˆstring

![image-20220701152018444](C:\Users\31330\Pictures\Typora\image-20220701152018444.png)

2.è½¬æ¢æˆæ•°å­—å‹number

![image-20220701152206427](C:\Users\31330\Pictures\Typora\image-20220701152206427.png)

éšå¼è½¬æ¢

![image-20220701152420325](C:\Users\31330\Pictures\Typora\image-20220701152420325.png)

<img src="C:\Users\31330\Pictures\Typora\image-20220701152807067.png" alt="image-20220701152807067" style="zoom: 80%;" />

3.è½¬æ¢æˆå¸ƒå°”å‹boolean

![image-20220701153225169](C:\Users\31330\Pictures\Typora\image-20220701153225169.png)

![image-20220701153209075](C:\Users\31330\Pictures\Typora\image-20220701153209075.png)

![image-20220701163557995](C:\Users\31330\Pictures\Typora\image-20220701163557995.png)

***

## æ•°ç»„

```html
var arr = new Array(2ï¼Œ3ï¼Œ4);//==>[2,3,4]ï¼Œè‹¥å‚æ•°ä¸ºä¸€ä¸ªï¼Œè¡¨ç¤ºæ•°ç»„é•¿åº¦ï¼Œå…ƒç´ ä¸ºç©º
```

æˆ–è€…ï¼Œåˆ©ç”¨å­—é¢é‡åˆ›å»ºæ•°ç»„

```html
var arr = ['å°æ˜','å°çº¢','å°å¼º'];
```

![image-20220703164722472](C:\Users\31330\Pictures\Typora\image-20220703164722472.png)

æ•°ç»„éå†ï¼šlengthæ‹¿æ•°ç»„é•¿åº¦

<img src="C:\Users\31330\Pictures\Typora\image-20220701170254528.png" alt="image-20220701170254528" style="zoom:80%;" />

æ•°ç»„æ’åºï¼š

![image-20220703165723657](C:\Users\31330\Pictures\Typora\image-20220703165723657.png)

<img src="C:\Users\31330\Pictures\Typora\image-20220703170011658.png" alt="image-20220703170011658" style="zoom:80%;" />

æ£€æµ‹æ˜¯å¦ä¸ºæ•°ç»„ï¼š``instanceof``å’Œ``Array.isArray()``

![image-20220703165057555](C:\Users\31330\Pictures\Typora\image-20220703165057555.png)

æ•°ç»„æ“ä½œï¼šæ·»åŠ æˆ–åˆ é™¤

![image-20220703165508073](C:\Users\31330\Pictures\Typora\image-20220703165508073.png)

1.æ·»åŠ 

![image-20220703165325677](C:\Users\31330\Pictures\Typora\image-20220703165325677.png)

2.åˆ é™¤

![image-20220703165535513](C:\Users\31330\Pictures\Typora\image-20220703165535513.png)

æ•°ç»„ç´¢å¼•æ–¹æ³•ï¼š

![image-20220703184852640](C:\Users\31330\Pictures\Typora\image-20220703184852640.png)

æ•°ç»„è½¬å­—ç¬¦ä¸²![image-20220703185657684](C:\Users\31330\Pictures\Typora\image-20220703185657684.png)

![image-20220703185724698](C:\Users\31330\Pictures\Typora\image-20220703185724698.png)

***

## å‡½æ•°

å£°æ˜å’Œè°ƒç”¨ï¼š``function``

<img src="C:\Users\31330\Pictures\Typora\image-20220701172646956.png" alt="image-20220701172646956" style="zoom:80%;" />

ä¸¤ç§å£°æ˜æ–¹å¼ï¼š

<img src="C:\Users\31330\Pictures\Typora\image-20220703121944484.png" alt="image-20220703121944484" style="zoom:80%;" />

returnï¼š

<img src="C:\Users\31330\Pictures\Typora\image-20220701173359006.png" alt="image-20220701173359006" style="zoom:80%;" />

arguments

å†…ç½®å¯¹è±¡ï¼Œå­˜å‚¨ä¼ é€’æ¥çš„æ‰€æœ‰å®å‚ï¼Œä¿å­˜çš„å½¢å¼æ˜¯æ•°ç»„ï¼ˆä¼ªæ•°ç»„ï¼‰

![image-20220703121558433](C:\Users\31330\Pictures\Typora\image-20220703121558433.png)



ä½œç”¨åŸŸï¼š

å…¨å±€å’Œå±€éƒ¨

å°±è¿‘

***

## å¯¹è±¡

å¯¹è±¡çš„åˆ›å»º3æ³•

```html
	<script>
        //åˆ›å»ºå¯¹è±¡çš„3ç§æ–¹æ³•
        //var person={} //åˆ›å»ºäº†ä¸€ä¸ªç©ºå¯¹è±¡
        //æ–¹æ³•1=============
        var person = {
            pname: 'roydon',
            age: 18,
            gender: 'man',
            getAge: function () {//æ–¹æ³•
                console.log(this.age);
            }
        }
        //è·å–å±æ€§å€¼çš„ä¸¤ç§æ–¹æ³•
        //1.
        console.log(person.pname);
        //2.
        console.log(person['age']);
        person.getAge();//æ—¢ç„¶æ˜¯æ–¹æ³•ï¼Œå°±è¦å¸¦()
        //æ–¹æ³•2=============
        var person1 = new Object();
        person1.pname = 'yicheng';
        person1.age = 19;
        person1.gender = 'man';
        person1.getAge = function () {
            console.log(this.age);
        }
        //è·å–å±æ€§ä¸¤ç§æ–¹æ³•åŒä¸Š
        console.log(person1);
        person1.getAge();
        //æ–¹æ³•3==============æ„é€ å‡½æ•°æ³•,é¦–å­—æ¯å¤§å†™
        function Person3(pname, age) {
            this.pname = pname;
            this.age = age;
            this.getAge = function () {
                console.log(this.age);
            }
        }
        var person3 = new Person3('jack',20);
        person3.getAge();
    </script>
```



éå†forinï¼š

```html
//éå†
for (const key in person3) {
	if (Object.hasOwnProperty.call(person3, key)) {
		const name = key;//å±æ€§å
        console.log(name);
        const element = person3[key];//å€¼
        console.log(element);
     }
}
```

<img src="C:\Users\31330\Pictures\Typora\image-20220703161130532.png" alt="image-20220703161130532" style="zoom:80%;" />

<img src="C:\Users\31330\Pictures\Typora\image-20220703161922886.png" alt="image-20220703161922886" style="zoom:80%;" />

æ—¥æœŸDateå¯¹è±¡ï¼š

<img src="C:\Users\31330\Pictures\Typora\image-20220703163421893.png" alt="image-20220703163421893" style="zoom:67%;" />

<img src="C:\Users\31330\Pictures\Typora\image-20220703163127890.png" alt="image-20220703163127890"  />

<img src="C:\Users\31330\Pictures\Typora\image-20220703163326380.png" alt="image-20220703163326380" style="zoom: 80%;" />

è·å–æ—¶é—´æˆ³ï¼š

<img src="C:\Users\31330\Pictures\Typora\image-20220703163636856.png" alt="image-20220703163636856"  />

æ—¶é—´æˆ³è½¬æ¢æˆæ—¶åˆ†ç§’ï¼š

<img src="C:\Users\31330\Pictures\Typora\image-20220703163843457.png" alt="image-20220703163843457" style="zoom:80%;" />

å€’è®¡æ—¶æ¡ˆä¾‹ï¼š

![image-20220703164356185](C:\Users\31330\Pictures\Typora\image-20220703164356185.png)

***

## å­—ç¬¦ä¸²

å­—ç¬¦ä¸²åŸºæœ¬æ“ä½œ

![image-20220703191039374](C:\Users\31330\Pictures\Typora\image-20220703191039374.png)

![image-20220703191005496](C:\Users\31330\Pictures\Typora\image-20220703191005496.png)

![image-20220703191233210](C:\Users\31330\Pictures\Typora\image-20220703191233210.png)

<img src="C:\Users\31330\Pictures\Typora\image-20220703191258583.png" alt="image-20220703191258583" style="zoom:67%;" />

å¯¹è±¡è½¬jsonå­—ç¬¦ä¸²ï¼š

JSON.stringify(obj)ï¼›

![image-20220804164954177](C:\Users\31330\Pictures\Typora\image-20220804164954177.png)

jsonå­—ç¬¦ä¸²è½¬å¯¹è±¡ï¼š

JSON.parse(str);

![image-20220804165155499](C:\Users\31330\Pictures\Typora\image-20220804165155499.png)

***

## Web API

åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£

![image-20220703192756675](C:\Users\31330\Pictures\Typora\image-20220703192756675.png)

***

### DOM

![image-20220703193211469](C:\Users\31330\Pictures\Typora\image-20220703193211469.png)

domæ ‘ï¼š

![image-20220703193523977](C:\Users\31330\Pictures\Typora\image-20220703193523977.png)

æ¯ä¸€ä¸ªå…ƒç´ å¯ä»¥çœ‹ä½œä¸€ä¸ªå¯¹è±¡

***

#### è·å–é¡µé¢å…ƒç´ 



<img src="C:\Users\31330\Pictures\Typora\image-20220704110148101.png" alt="image-20220704110148101" style="zoom:67%;" />

1. æ ¹æ®IDè·å–ï¼ˆè¿”å›çš„æ˜¯ä¸€ä¸ªåŒ¹é…åˆ°IDçš„DOM Elementå¯¹è±¡ï¼‰

```html
document.getElementById();
```

å¯ä»¥ä½¿ç”¨``console.dir();``æŸ¥çœ‹

2. é€šè¿‡æ ‡ç­¾åè·å–ï¼ˆè¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡å®šæ ‡ç­¾çš„é›†åˆï¼‰

```html
element.getElementByTagName();
```

3. é€šè¿‡ç±»åè·å–

<img src="C:\Users\31330\Pictures\Typora\image-20220704111815449.png" alt="image-20220704111815449" style="zoom:;" />

<img src="C:\Users\31330\Pictures\Typora\image-20220704112208151.png" alt="image-20220704112208151" style="zoom:80%;" />

***

#### äº‹ä»¶åŸºç¡€

ä¾‹å¦‚ï¼Œç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œå¼¹å‡ºå¯¹è¯æ¡†

```html
<button id="btn">
    ç‚¹æˆ‘
</button>
```

äº‹ä»¶åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šäº‹ä»¶æºã€äº‹ä»¶ç±»å‹ã€äº‹ä»¶å¤„ç†ç¨‹åºã€‚ä¹Ÿå«äº‹ä»¶ä¸‰è¦ç´ 

```javascript
//1.äº‹ä»¶æº=äº‹ä»¶è¢«è§¦å‘çš„å¯¹è±¡ï¼ˆæŒ‰é’®ï¼‰
var btn = document.getElementById('btn');
//2.äº‹ä»¶ç±»å‹=å¦‚ä½•è§¦å‘ï¼Œä¾‹å¦‚ï¼šç‚¹å‡»ï¼Œé¼ æ ‡æ‚¬åœï¼ŒæŒ‰é”®æŒ‰ä¸‹
//3.äº‹ä»¶å¤„ç†ç¨‹åº=å‡½æ•°èµ‹å€¼
btn.onclick=function(){
	alert('ç‚¹äº†æˆ‘');
}
```

***

#### æ“ä½œå…ƒç´ 

1. æ”¹å˜å…ƒç´ å†…å®¹

![image-20220704113516135](C:\Users\31330\Pictures\Typora\image-20220704113516135.png)

![image-20220704113811000](C:\Users\31330\Pictures\Typora\image-20220704113811000.png)

![image-20220704113823050](C:\Users\31330\Pictures\Typora\image-20220704113823050.png)

åŒæ—¶ï¼Œäº¦å¯è·å–æ ‡ç­¾ï¼ŒinnerTextè·å–å†…å®¹ï¼ˆå»ç©ºæ ¼å’Œæ¢è¡Œï¼‰ï¼Œ

innerHtmlè·å–å…ƒç´ åŠ å†…å®¹ï¼Œï¼ˆä¿ç•™ç©ºæ ¼å’Œæ¢è¡Œï¼‰

**æ¡ˆä¾‹ï¼šå¯†ç æ¡†æ˜¾ç¤ºï¼Œéšè—å¯†ç **

html

![image-20220704115908427](C:\Users\31330\Pictures\Typora\image-20220704115908427.png)

css

![image-20220704120003894](C:\Users\31330\Pictures\Typora\image-20220704120003894.png)

js

![image-20220704120109188](C:\Users\31330\Pictures\Typora\image-20220704120109188.png)

é€šè¿‡æ ·å¼å±æ€§æ“ä½œï¼š

![image-20220712222238732](C:\Users\31330\Pictures\Typora\image-20220712222238732.png)

æ¡ˆä¾‹ï¼šå¾ªç¯ç²¾çµå›¾

https://www.bilibili.com/video/BV1Sy4y1C7ha?p=211

![image-20220712224618219](C:\Users\31330\Pictures\Typora\image-20220712224618219.png)

#### DOMæ ¸å¿ƒé‡ç‚¹

è·å–è¿‡æ¥çš„DOMå…ƒç´ æ˜¯ä¸€ä¸ªå¯¹è±¡æ‰€ä»¥ç§°ä¸º**æ–‡æ¡£å¯¹è±¡æ¨¡å‹**

![image-20220725203808015](C:\Users\31330\Pictures\Typora\image-20220725203808015.png)

![image-20220725204000304](C:\Users\31330\Pictures\Typora\image-20220725204000304.png)

![image-20220725204013180](C:\Users\31330\Pictures\Typora\image-20220725204013180.png)

![image-20220725204028503](C:\Users\31330\Pictures\Typora\image-20220725204028503.png)

![image-20220725204041703](C:\Users\31330\Pictures\Typora\image-20220725204041703.png)

![image-20220725204119406](C:\Users\31330\Pictures\Typora\image-20220725204119406.png)

![image-20220725204138495](C:\Users\31330\Pictures\Typora\image-20220725204138495.png)

![image-20220725204153170](C:\Users\31330\Pictures\Typora\image-20220725204153170.png)

#### äº‹ä»¶é«˜çº§

##### 1.æ³¨å†Œäº‹ä»¶ï¼ˆç»‘å®šäº‹ä»¶ï¼‰

æ³¨å†Œäº‹ä»¶ä¸¤ç§æ–¹æ³•ï¼šä¼ ç»Ÿæ–¹å¼ã€æ–¹æ³•ç›‘å¬æ³¨å†Œæ–¹å¼

![image-20220725205047850](C:\Users\31330\Pictures\Typora\image-20220725205047850.png)

``addEventListener``äº‹ä»¶ç›‘å¬æ–¹å¼

![image-20220725205212822](C:\Users\31330\Pictures\Typora\image-20220725205212822.png)

##### 2.åˆ é™¤äº‹ä»¶ï¼ˆè§£ç»‘äº‹ä»¶ï¼‰

ä¼ ç»Ÿè§£ç»‘æ–¹æ³•ï¼š

```html
var divs = document.querySelectorAll('div');
    divs[0].onclick = function() {
        alert(11);
        // 1. ä¼ ç»Ÿæ–¹å¼åˆ é™¤äº‹ä»¶
        divs[0].onclick = null;
     }
```

æ–¹æ³•ç›‘å¬æ³¨å†Œè§£ç»‘æ–¹å¼ï¼š

```html
    // 2. removeEventListener åˆ é™¤äº‹ä»¶
        divs[1].addEventListener('click', fn) // é‡Œé¢çš„fn ä¸éœ€è¦è°ƒç”¨åŠ å°æ‹¬å·

        function fn() {
            alert(22);
            divs[1].removeEventListener('click', fn);
        }
```

##### 3.DOMäº‹ä»¶æµ

![image-20220725211809268](C:\Users\31330\Pictures\Typora\image-20220725211809268.png)

![image-20220725212532154](C:\Users\31330\Pictures\Typora\image-20220725212532154.png)

##### 4.äº‹ä»¶å¯¹è±¡

```html
// äº‹ä»¶å¯¹è±¡
var div = document.querySelector('div');
div.onclick = function(e) {
     console.log(e);
    }
     // 1. event å°±æ˜¯ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ å†™åˆ°æˆ‘ä»¬ä¾¦å¬å‡½æ•°çš„ å°æ‹¬å·é‡Œé¢ å½“å½¢å‚æ¥çœ‹
     // 2. äº‹ä»¶å¯¹è±¡åªæœ‰æœ‰äº†äº‹ä»¶æ‰ä¼šå­˜åœ¨ï¼Œå®ƒæ˜¯ç³»ç»Ÿç»™æˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºçš„ï¼Œä¸éœ€è¦æˆ‘ä»¬ä¼ é€’å‚æ•°
     // 3. äº‹ä»¶å¯¹è±¡ æ˜¯ æˆ‘ä»¬äº‹ä»¶çš„ä¸€ç³»åˆ—ç›¸å…³æ•°æ®çš„é›†åˆ è·Ÿäº‹ä»¶ç›¸å…³çš„ æ¯”å¦‚é¼ æ ‡ç‚¹å‡»é‡Œé¢å°±åŒ…å«äº†é¼ æ ‡çš„ç›¸å…³ä¿¡æ¯ï¼Œé¼ æ ‡åæ ‡å•Šï¼Œå¦‚æœæ˜¯é”®ç›˜äº‹ä»¶é‡Œé¢å°±åŒ…å«çš„é”®ç›˜äº‹ä»¶çš„ä¿¡æ¯ æ¯”å¦‚ åˆ¤æ–­ç”¨æˆ·æŒ‰ä¸‹äº†é‚£ä¸ªé”®
     // 4. è¿™ä¸ªäº‹ä»¶å¯¹è±¡æˆ‘ä»¬å¯ä»¥è‡ªå·±å‘½å æ¯”å¦‚ event ã€ evtã€ e
```

å¸¸è§å±æ€§å’Œæ–¹æ³•ï¼š

![image-20220725213145564](C:\Users\31330\Pictures\Typora\image-20220725213145564.png)

##### 5.é˜»æ­¢äº‹ä»¶å†’æ³¡

e.stopPropagation(); // stop åœæ­¢  Propagation ä¼ æ’­

```html
<script>
  // å¸¸è§äº‹ä»¶å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•
  // é˜»æ­¢å†’æ³¡  dom æ¨èçš„æ ‡å‡† stopPropagation() 
  var son = document.querySelector('.son');
  son.addEventListener('click', function(e) {
     alert('son');
     e.stopPropagation(); // stop åœæ­¢  Propagation ä¼ æ’­
  }, false);
  var father = document.querySelector('.father');
  father.addEventListener('click', function() {
      alert('father');
  }, false);
  document.addEventListener('click', function() {
      alert('document');
  })
</script>
```

##### 6.äº‹ä»¶å§”æ‰˜

![image-20220725215056718](C:\Users\31330\Pictures\Typora\image-20220725215056718.png)

<img src="C:\Users\31330\Pictures\Typora\image-20220725215201242.png" alt="image-20220725215201242" style="zoom:80%;" />

![image-20220725215238503](C:\Users\31330\Pictures\Typora\image-20220725215238503.png)

##### 7.é¼ æ ‡äº‹ä»¶

![image-20220725215547966](C:\Users\31330\Pictures\Typora\image-20220725215547966.png)

![image-20220725215618639](C:\Users\31330\Pictures\Typora\image-20220725215618639.png)

![image-20220725215824074](C:\Users\31330\Pictures\Typora\image-20220725215824074.png)

```
<script>
    // 1. contextmenu æˆ‘ä»¬å¯ä»¥ç¦ç”¨å³é”®èœå•
    document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
    })
    // 2. ç¦æ­¢é€‰ä¸­æ–‡å­— selectstart
    document.addEventListener('selectstart', function(e) {
        e.preventDefault();
     })
 </script>
```

##### 8.é”®ç›˜äº‹ä»¶

![image-20220725221221513](C:\Users\31330\Pictures\Typora\image-20220725221221513.png)

***

### BOM

![image-20220726143937871](C:\Users\31330\Pictures\Typora\image-20220726143937871.png)

![image-20220726144355858](C:\Users\31330\Pictures\Typora\image-20220726144355858.png)

![image-20220726144740133](C:\Users\31330\Pictures\Typora\image-20220726144740133.png)

#### windowå¯¹è±¡å¸¸è§äº‹ä»¶

##### 1.çª—å£åŠ è½½äº‹ä»¶

![image-20220726145419694](C:\Users\31330\Pictures\Typora\image-20220726145419694.png)

![image-20220726150146383](C:\Users\31330\Pictures\Typora\image-20220726150146383.png)

![image-20220726150242122](C:\Users\31330\Pictures\Typora\image-20220726150242122.png)

// load ç­‰é¡µé¢å†…å®¹å…¨éƒ¨åŠ è½½å®Œæ¯•ï¼ŒåŒ…å«é¡µé¢domå…ƒç´  å›¾ç‰‡ flash  css ç­‰ç­‰

 // DOMContentLoaded æ˜¯DOM åŠ è½½å®Œæ¯•ï¼Œä¸åŒ…å«å›¾ç‰‡ falsh css ç­‰å°±å¯ä»¥æ‰§è¡Œ åŠ è½½é€Ÿåº¦æ¯” loadæ›´å¿«ä¸€äº›

##### 2.è°ƒæ•´çª—å£å¤§å°äº‹ä»¶

![image-20220726151626216](C:\Users\31330\Pictures\Typora\image-20220726151626216.png)

#### å®šæ—¶å™¨

<img src="C:\Users\31330\Pictures\Typora\image-20220726151659709.png" alt="image-20220726151659709" style="zoom:80%;" />

##### 1.``setTimeout()``å®šæ—¶å™¨

![image-20220726151802912](C:\Users\31330\Pictures\Typora\image-20220726151802912.png)

```html
    <script>
        // 1. setTimeout 
        // è¯­æ³•è§„èŒƒï¼š  window.setTimeout(è°ƒç”¨å‡½æ•°, å»¶æ—¶æ—¶é—´);
        // 1. è¿™ä¸ªwindowåœ¨è°ƒç”¨çš„æ—¶å€™å¯ä»¥çœç•¥
        // 2. è¿™ä¸ªå»¶æ—¶æ—¶é—´å•ä½æ˜¯æ¯«ç§’ ä½†æ˜¯å¯ä»¥çœç•¥ï¼Œå¦‚æœçœç•¥é»˜è®¤çš„æ˜¯0
        // 3. è¿™ä¸ªè°ƒç”¨å‡½æ•°å¯ä»¥ç›´æ¥å†™å‡½æ•° è¿˜å¯ä»¥å†™ å‡½æ•°å è¿˜æœ‰ä¸€ä¸ªå†™æ³• 'å‡½æ•°å()'
        // 4. é¡µé¢ä¸­å¯èƒ½æœ‰å¾ˆå¤šçš„å®šæ—¶å™¨ï¼Œæˆ‘ä»¬ç»å¸¸ç»™å®šæ—¶å™¨åŠ æ ‡è¯†ç¬¦ ï¼ˆåå­—)
        // setTimeout(function() {
        //     console.log('æ—¶é—´åˆ°äº†');

        // }, 2000);
        function callback() {
            console.log('çˆ†ç‚¸äº†');

        }
        var timer1 = setTimeout(callback, 3000);
        var timer2 = setTimeout(callback, 5000);
        // setTimeout('callback()', 3000); // æˆ‘ä»¬ä¸æå€¡è¿™ä¸ªå†™æ³•
    </script>
```

![image-20220726152415224](C:\Users\31330\Pictures\Typora\image-20220726152415224.png)

åœæ­¢``setTimeout()``å®šæ—¶å™¨

![image-20220726152915651](C:\Users\31330\Pictures\Typora\image-20220726152915651.png)

```html
    <button>ç‚¹å‡»åœæ­¢å®šæ—¶å™¨</button>
    <script>
        var btn = document.querySelector('button');
        var timer = setTimeout(function() {
            console.log('çˆ†ç‚¸äº†');

        }, 5000);
        btn.addEventListener('click', function() {
            clearTimeout(timer);
        })
    </script>
```

##### 2.``setInterval()``å®šæ—¶å™¨

![image-20220726153226031](C:\Users\31330\Pictures\Typora\image-20220726153226031.png)

```html
    <script>
        // 1. setInterval 
        // è¯­æ³•è§„èŒƒï¼š  window.setInterval(è°ƒç”¨å‡½æ•°, å»¶æ—¶æ—¶é—´);
        setInterval(function() {
            console.log('ç»§ç»­è¾“å‡º');
        }, 1000);
        // 2. setTimeout  å»¶æ—¶æ—¶é—´åˆ°äº†ï¼Œå°±å»è°ƒç”¨è¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œåªè°ƒç”¨ä¸€æ¬¡ å°±ç»“æŸäº†è¿™ä¸ªå®šæ—¶å™¨
        // 3. setInterval  æ¯éš”è¿™ä¸ªå»¶æ—¶æ—¶é—´ï¼Œå°±å»è°ƒç”¨è¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œä¼šè°ƒç”¨å¾ˆå¤šæ¬¡ï¼Œé‡å¤è°ƒç”¨è¿™ä¸ªå‡½æ•°
    </script>
```

#### JSæ‰§è¡Œé˜Ÿåˆ—

![image-20220726165419927](C:\Users\31330\Pictures\Typora\image-20220726165419927.png)

![image-20220726170649928](C:\Users\31330\Pictures\Typora\image-20220726170649928.png)

![image-20220726170935913](C:\Users\31330\Pictures\Typora\image-20220726170935913.png)

#### locationå¯¹è±¡

URL

![image-20220726171907706](C:\Users\31330\Pictures\Typora\image-20220726171907706.png)

![image-20220726171934519](C:\Users\31330\Pictures\Typora\image-20220726171934519.png)

![image-20220726173837318](C:\Users\31330\Pictures\Typora\image-20220726173837318.png)

#### navigatorå¯¹è±¡

![image-20220726174146525](C:\Users\31330\Pictures\Typora\image-20220726174146525.png)

#### historyå¯¹è±¡

![image-20220726175524173](C:\Users\31330\Pictures\Typora\image-20220726175524173.png)

### PCç«¯ç½‘é¡µç‰¹æ•ˆ

#### å…ƒç´ åç§»é‡offset

![image-20220726180321355](C:\Users\31330\Pictures\Typora\image-20220726180321355.png)

#### å…ƒç´ å¯è§†åŒºclient

![image-20220726214958544](C:\Users\31330\Pictures\Typora\image-20220726214958544.png)

***

ç«‹å³æ‰§è¡Œå‡½æ•°

å†™æ³•ï¼š<img src="C:\Users\31330\Pictures\Typora\image-20220726215733108.png" alt="image-20220726215733108" style="zoom: 67%;" />

***

#### å…ƒç´ æ»šåŠ¨scroll

![image-20220727163943579](C:\Users\31330\Pictures\Typora\image-20220727163943579.png)

***



![image-20220727171222121](C:\Users\31330\Pictures\Typora\image-20220727171222121.png)

***

#### åŠ¨ç”»å‡½æ•°å°è£…

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        div {
            position: absolute;
            left: 0;
            width: 100px;
            height: 100px;
            background-color: pink;
        }
        
        span {
            position: absolute;
            left: 0;
            top: 200px;
            display: block;
            width: 150px;
            height: 150px;
            background-color: purple;
        }
    </style>
</head>

<body>
    <div></div>
    <span></span>
    <script>
        // ç®€å•åŠ¨ç”»å‡½æ•°å°è£…objç›®æ ‡å¯¹è±¡ target ç›®æ ‡ä½ç½®
        function animate(obj, target) {
            var timer = setInterval(function() {
                if (obj.offsetLeft >= target) {
                    // åœæ­¢åŠ¨ç”» æœ¬è´¨æ˜¯åœæ­¢å®šæ—¶å™¨
                    clearInterval(timer);
                }
                obj.style.left = obj.offsetLeft + 1 + 'px';

            }, 3);
        }

        var div = document.querySelector('div');
        var span = document.querySelector('span');
        // è°ƒç”¨å‡½æ•°
        animate(div, 400);
        animate(span, 200);
    </script>
</body>

</html>
```

ä¼˜åŒ–ï¼š

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        div {
            position: absolute;
            left: 0;
            width: 100px;
            height: 100px;
            background-color: pink;
        }
        
        span {
            position: absolute;
            left: 0;
            top: 200px;
            display: block;
            width: 150px;
            height: 150px;
            background-color: purple;
        }
    </style>
</head>

<body>
    <button>ç‚¹å‡»å¤é›¨è·æ‰èµ°</button>
    <div></div>
    <span>å¤é›¨è·</span>
    <script>
        // var obj = {};
        // obj.name = 'andy';
        // ç®€å•åŠ¨ç”»å‡½æ•°å°è£…objç›®æ ‡å¯¹è±¡ target ç›®æ ‡ä½ç½®
        // ç»™ä¸åŒçš„å…ƒç´ æŒ‡å®šäº†ä¸åŒçš„å®šæ—¶å™¨
        function animate(obj, target) {
            // å½“æˆ‘ä»¬ä¸æ–­çš„ç‚¹å‡»æŒ‰é’®ï¼Œè¿™ä¸ªå…ƒç´ çš„é€Ÿåº¦ä¼šè¶Šæ¥è¶Šå¿«ï¼Œå› ä¸ºå¼€å¯äº†å¤ªå¤šçš„å®šæ—¶å™¨
            // è§£å†³æ–¹æ¡ˆå°±æ˜¯ è®©æˆ‘ä»¬å…ƒç´ åªæœ‰ä¸€ä¸ªå®šæ—¶å™¨æ‰§è¡Œ
            // å…ˆæ¸…é™¤ä»¥å‰çš„å®šæ—¶å™¨ï¼Œåªä¿ç•™å½“å‰çš„ä¸€ä¸ªå®šæ—¶å™¨æ‰§è¡Œ
            clearInterval(obj.timer);
            obj.timer = setInterval(function() {
                if (obj.offsetLeft >= target) {
                    // åœæ­¢åŠ¨ç”» æœ¬è´¨æ˜¯åœæ­¢å®šæ—¶å™¨
                    clearInterval(obj.timer);
                }
                obj.style.left = obj.offsetLeft + 1 + 'px';

            }, 30);
        }

        var div = document.querySelector('div');
        var span = document.querySelector('span');
        var btn = document.querySelector('button');
        // è°ƒç”¨å‡½æ•°
        animate(div, 300);
        btn.addEventListener('click', function() {
            animate(span, 200);
        })
    </script>
</body>

</html>
```

### ç§»åŠ¨ç«¯ç½‘é¡µç‰¹æ•ˆ

https://www.bilibili.com/video/BV1Sy4y1C7ha?p=331&spm_id_from=pageDriver&vd_source=616a9dd528080cf576646147166fe033

#### è§¦å±äº‹ä»¶

```HTML
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        div {
            width: 100px;
            height: 100px;
            background-color: pink;
        }
    </style>
</head>

<body>
    <div></div>
    <script>
        // 1. è·å–å…ƒç´ 
        // 2. æ‰‹æŒ‡è§¦æ‘¸DOMå…ƒç´ äº‹ä»¶
        var div = document.querySelector('div');
        div.addEventListener('touchstart', function() {
            console.log('æˆ‘æ‘¸äº†ä½ ');

        });
        // 3. æ‰‹æŒ‡åœ¨DOMå…ƒç´ èº«ä¸Šç§»åŠ¨äº‹ä»¶
        div.addEventListener('touchmove', function() {
            console.log('æˆ‘ç»§ç»­æ‘¸');

        });
        // 4. æ‰‹æŒ‡ç¦»å¼€DOMå…ƒç´ äº‹ä»¶
        div.addEventListener('touchend', function() {
            console.log('è½»è½»çš„æˆ‘èµ°äº†');

        });
    </script>
</body>

</html>
```

***

### æœ¬åœ°å­˜å‚¨

![image-20220728221918076](C:\Users\31330\Pictures\Typora\image-20220728221918076.png)

1.``window.sessionStorage``

ä¸€æ¬¡ä¼šè¯ä¸­å­˜åœ¨ï¼Œé¡µé¢å…³é—­å³æ¶ˆå¤±ã€‚

<img src="C:\Users\31330\Pictures\Typora\image-20220728222106111.png" alt="image-20220728222106111" style="zoom:67%;" />

<img src="C:\Users\31330\Pictures\Typora\image-20220728222545307.png" alt="image-20220728222545307" style="zoom: 80%;" />

2.``window.localStorage``

<img src="C:\Users\31330\Pictures\Typora\image-20220728223036911.png" alt="image-20220728223036911" style="zoom: 67%;" />

<img src="C:\Users\31330\Pictures\Typora\image-20220728223124366.png" alt="image-20220728223124366" style="zoom: 80%;" />

![image-20220728223346201](C:\Users\31330\Pictures\Typora\image-20220728223346201.png)

***

# jQuery

## æ¦‚è¿°

jsåº“ï¼šå³libraryï¼Œå°è£…å¥½çš„å‡½æ•°ã€‚é‡Œé¢æœ‰å¾ˆå¤šé¢„å…ˆå°è£…å¥½çš„æ–¹æ³•ã€‚

jQueryå°±æ˜¯ä¸ºäº†æ›´æ–¹ä¾¿å¿«é€Ÿæ“ä½œDOMï¼Œé‡Œé¢å°è£…äº†å¾ˆå¤šæ–¹æ³•ï¼Œåç»­ç”¨jQueryå¯¹è±¡è°ƒç”¨è¿™äº›æ–¹æ³•å³å¯ã€‚

å­¦ä¹ jQueryå°±æ˜¯å­¦ä¹ è°ƒç”¨é‡Œé¢å°è£…çš„å‡½æ•°ï¼Œå…¶ä¼˜åŒ–äº†DOMæ“ä½œã€äº‹ä»¶å¤„ç†ã€åŠ¨ç”»è®¾è®¡å’ŒAjaxäº¤äº’ã€‚åŸºæœ¬å…¼å®¹äº†ä¸»æµæµè§ˆå™¨ã€‚é“¾å¼ç¼–ç¨‹ã€éšå¼è¿­ä»£ã€æ”¯æŒæ’ä»¶æ‹“å±•å¼€å‘ï¼Œè½»é‡ã€å…è´¹ã€å¼€æºã€‚

å…¶å®—æ—¨å°±æ˜¯ï¼šå†™å¾—å°‘ï¼Œåšçš„å¤šã€‚

![image-20220730211132828](C:\Users\31330\Pictures\Typora\image-20220730211132828.png)

ä¸‹è½½åœ°å€ï¼šhttps://jquery.com/

![image-20220730211536641](C:\Users\31330\Pictures\Typora\image-20220730211536641.png)

æ¨èä¸‹è½½3.Xç‰ˆæœ¬ã€‚

<img src="C:\Users\31330\Pictures\Typora\image-20220728225459412.png" alt="image-20220728225459412" style="zoom:67%;" />

![image-20220730211830547](C:\Users\31330\Pictures\Typora\image-20220730211830547.png)

ç‚¹å‡»åç›´æ¥å³é”®**å¦å­˜é¡µé¢ä¸º...**å³å¯ï¼Œæœ€åå¼•å…¥é¡¹ç›®ä¸­ã€‚

## jQueryçš„åŸºæœ¬ä½¿ç”¨

### å…¥å£å‡½æ•°



```HTML
<body>
    <script>
        // $('div').hide();
        // 1.ç­‰ç€é¡µé¢DOMåŠ è½½å®Œæ¯•å†å»æ‰§è¡Œjsä»£ç 
        // $(document).ready(function() {
        //     $('div').hide();
        // })
        // 2.ç­‰ç€é¡µé¢DOMåŠ è½½å®Œæ¯•å†å»æ‰§è¡Œjsä»£ç 
        $(function() {
            $('div').hide();
        })
    </script>
    <div>114514</div>
</body>
```

> ```
> $(function() {
>      ......//DOMåŠ è½½å®Œæˆçš„å…¥å£(æ¨è)
> })
> ```
>
> ```
> $(document).ready(function() {
>     ......//DOMåŠ è½½å®Œæˆçš„å…¥å£
> })
> ```



![image-20220728230130621](C:\Users\31330\Pictures\Typora\image-20220728230130621.png)

### jQueryçš„é¡¶çº§å¯¹è±¡ï¼š**``$``**

$æ˜¯*jQuery* åˆ«ç§°ï¼Œåœ¨ä»£ç ä¸­$å’Œ*jQuery* å’Œç­‰ä»·ï¼Œä¸ºäº†æ–¹ä¾¿éƒ½æ˜¯$ã€‚$æ˜¯*jQuery* çš„é¡¶çº§å¯¹è±¡ï¼Œç›¸å½“äºåŸç”Ÿjsä¸­çš„windowï¼Œå…ƒç´ é€šè¿‡$åŒ…è£…æˆ*jQuery* å¯¹è±¡ï¼Œè°ƒç”¨*jQuery* å±æ€§å’Œæ–¹æ³•ã€‚

```HTML
<script>
    // 1. $ æ˜¯jQueryçš„åˆ«ç§°ï¼ˆåˆ«åï¼‰
    // $(function() {
    //     alert(11)
    // });
    //jQueryå’Œ$äºŒè€…å¯äº’æ¢ï¼Œæ–¹ä¾¿èµ·è§ä¸€èˆ¬éƒ½æ˜¯$
    jQuery(function() {
        // alert(11)
        // $('div').hide();hideä¸ºjQueryå°è£…çš„æ–¹æ³•ï¼›
        jQuery('div').hide();
    });
</script>
```

jQueryå¯¹è±¡å’ŒDOMå¯¹è±¡

ç”¨åŸç”Ÿjsè·å–æ¥çš„å¯¹è±¡æ˜¯DOMå¯¹è±¡ï¼Œç”¨jQueryæ–¹æ³•è·å–è¿‡æ¥çš„å¯¹è±¡æ˜¯jQueryå¯¹è±¡ã€‚

jQuery å¯¹DOMçš„åŸç”Ÿæ–¹æ³•è¿›è¡Œäº†å°è£…ï¼ŒjQuery å¯¹è±¡åªèƒ½ä½¿ç”¨ jQuery æ–¹æ³•ï¼ŒDOM å¯¹è±¡åˆ™ä½¿ç”¨åŸç”Ÿçš„ JavaScirpt å±æ€§å’Œæ–¹æ³•ã€‚

```HTML
<script>
    //DOMå¯¹è±¡ï¼Œç”¨åŸç”Ÿjsè·å–
    var div = document.querySelector('div');
    console.dir(div);
    // $('div')æ˜¯ä¸€ä¸ªjQuery å¯¹è±¡
    $('div'); 
    console.dir($('div'));
</script>
```

æ§åˆ¶å°è¾“å‡ºï¼š

![image-20220730203313022](C:\Users\31330\Pictures\Typora\image-20220730203313022.png)

> jQuery å¯¹è±¡åªèƒ½ä½¿ç”¨ jQuery æ–¹æ³•ï¼šä¾‹å¦‚
>
> è¡”æ¥ä¸Šè¿°ä»£ç ï¼š``div.style.display='none';``//æ˜¯åŸç”Ÿjsæ–¹æ³•ï¼ŒDOMå¯¹è±¡å¯è°ƒç”¨
>
> ä½†ï¼š``$('div').style.display='none';``//è¿™å¥ä»£ç å°±æ˜¯é”™çš„ï¼ŒjQuery å¯¹è±¡åªèƒ½ä½¿ç”¨jQuery å°è£…çš„æ–¹æ³•ã€‚
>
> æ‰€ä»¥ï¼ŒjQuery åªæ˜¯å¯¹jså¸¸ç”¨å±æ€§å’Œæ–¹æ³•è¿›è¡Œäº†å°è£…ã€‚DOMä½¿ç”¨åŸç”Ÿjsæ–¹æ³•å’Œå±æ€§ï¼ŒjQuery ä½¿ç”¨jQuery å±æ€§å’Œæ–¹æ³•ã€‚

### jQuery å¯¹è±¡å’ŒDOMå¯¹è±¡ç›¸äº’è½¬æ¢

jQuery è½¬åŒ–ä¸ºDOM(ä¸¤ç§æ–¹æ³•)ï¼š

1. $('div')[index];//indexæ˜¯ç´¢å¼•å·
2. $('div').get(index);

```
<script>
    var div = document.querySelector('div');
    $('div')[0].hide()
    $('div').get(0).hide()
</script>
```

DOMè½¬åŒ–ä¸º*jQuery* ï¼š

```
//ç›´æ¥è·å–å…ƒç´ å³å¯
$('div');
```

## jQueryå¸¸ç”¨API

### jQueryé€‰æ‹©å™¨

1. jQuery åŸºç¡€é€‰æ‹©å™¨

åŸç”Ÿ JS è·å–å…ƒç´ æ–¹å¼å¾ˆå¤šï¼Œå¾ˆæ‚ï¼Œè€Œä¸”å…¼å®¹æ€§æƒ…å†µä¸ä¸€è‡´ï¼Œå› æ­¤ jQuery ç»™æˆ‘ä»¬åšäº†å°è£…ï¼Œä½¿è·å–å…ƒç´ ç»Ÿä¸€æ ‡å‡†ã€‚

```java
$(â€œé€‰æ‹©å™¨â€) //é‡Œé¢é€‰æ‹©å™¨ç›´æ¥å†™ CSS é€‰æ‹©å™¨å³å¯ï¼Œä½†æ˜¯è¦åŠ å¼•å·
```

è·å–æ–¹å¼ä¸åŸç”Ÿjsæ— å¼‚ï¼š

![image-20220730214338985](C:\Users\31330\Pictures\Typora\image-20220730214338985.png)

2. jQuery å±‚çº§é€‰æ‹©å™¨

![image-20220730214457746](C:\Users\31330\Pictures\Typora\image-20220730214457746.png)

jQueryè®¾ç½®æ ·å¼çš„æ–¹æ³•ï¼š

```java
$('div').css('å±æ€§', 'å€¼')
```

for instanceï¼š(Set the color for all the LI under UL)

```java
$("ul li").css("color", "red");
```

éšå¼è¿­ä»£ï¼šéå†å†…éƒ¨ DOM å…ƒç´ ï¼ˆä¼ªæ•°ç»„å½¢å¼å­˜å‚¨ï¼‰çš„è¿‡ç¨‹ã€‚

ä¾‹å¦‚ï¼šç»™ULé‡Œçš„å¾ˆå¤šLIéƒ½è®¾ç½®æˆçº¢è‰²å­—ä½“

ç›´æ¥$("ul li").css("color", "red");//éšå¼è¿­ä»£è‡ªåŠ¨éå†æ¯ä¸€ä¸ªLIã€‚

3. jQuery ç­›é€‰é€‰æ‹©å™¨

![image-20220730215518712](C:\Users\31330\Pictures\Typora\image-20220730215518712.png)

for instanceï¼š(Get the first LI under UL)

```java
$("ul li:first").css("color", "red");
```

**jQuery ç­›é€‰æ–¹æ³•**



![image-20220730215946204](C:\Users\31330\Pictures\Typora\image-20220730215946204.png)

é‡ç‚¹è®°ä½ï¼š

`` parent()//æ‰¾äº²çˆ¸ `` ï¼›``parents('åç§°')//æ‰¾æŒ‡å®šç¥–å…ˆ``

`` children()//æ‰¾äº²å„¿å­ï¼ˆå¯ä»¥æ˜¯å¤šä¸ªï¼‰``

`` find()//æ‰¾åä»£`` 

``  siblings()//æ‰¾å…„å¼Ÿ``  

`` eq()``//ç²¾ç¡®æŸ¥æ‰¾ç¬¬å‡ ä¸ªå„¿å­ï¼Œä»0å¼€å§‹



> Element Traversal APIä¸ºDOMå…ƒç´ æ·»åŠ äº†ä¸‹é¢5ä¸ªå±æ€§ï¼š
>
> - `childElementCount`ï¼šè¿”å›å­å…ƒç´ ï¼ˆä¸åŒ…æ‹¬æ–‡æœ¬èŠ‚ç‚¹å’Œæ³¨é‡Šï¼‰çš„ä¸ªæ•°ã€‚
> - `firstElementChild`ï¼šæŒ‡å‘ç¬¬ä¸€ä¸ªå­å…ƒç´ ã€‚
> - `lastElementChild`ï¼šæŒ‡å‘æœ€åä¸€ä¸ªå­å…ƒç´ ã€‚
> - `previousElementSibling`ï¼šæŒ‡å‘å‰ä¸€ä¸ªåŒè¾ˆå…ƒç´ ã€‚
> - `nextElementSibling`ï¼šæŒ‡å‘åä¸€ä¸ªåŒè¾ˆå…ƒç´ ã€‚



***

### jQuery æ ·å¼æ“ä½œ



#### æ“ä½œCSSæ–¹æ³•

jQuery å¯ä»¥ä½¿ç”¨ css æ–¹æ³•æ¥ä¿®æ”¹ç®€å•å…ƒç´ æ ·å¼ã€‚

>- å‚æ•°åªå†™å±æ€§åï¼Œåˆ™æ˜¯è¿”å›å±æ€§å€¼
>
>```
>$(this).css(''color'');
>```

>- å‚æ•°æ˜¯**å±æ€§åï¼Œå±æ€§å€¼ï¼Œé€—å·åˆ†éš”**ï¼Œæ˜¯è®¾ç½®ä¸€ç»„æ ·å¼ï¼Œå±æ€§å¿…é¡»åŠ å¼•å·ï¼Œå€¼å¦‚æœæ˜¯æ•°å­—å¯ä»¥ä¸ç”¨è·Ÿå•ä½å’Œå¼•å·
>
>```
>$(this).css(''color'', ''red'');
>```

>- å‚æ•°å¯ä»¥æ˜¯å¯¹è±¡å½¢å¼ï¼Œæ–¹ä¾¿è®¾ç½®å¤šç»„æ ·å¼ã€‚å±æ€§åå’Œå±æ€§å€¼ç”¨å†’å·éš”å¼€ï¼Œ å±æ€§å¯ä»¥ä¸ç”¨åŠ å¼•å·(å¯¹è±¡å†™æ³•ï¼Œå¯ä»¥ä¸å¸¦å¼•å·)
>
>```
>$(this).css({
>    "width": "400px",
>    height: 400,
>    "color":"white",
>    "font-size":"20px"
>});
>```



#### è®¾ç½®ç±»æ ·å¼æ–¹æ³•

ä½œç”¨ç­‰åŒäºä»¥å‰çš„ classListï¼Œå¯ä»¥æ“ä½œç±»æ ·å¼ï¼Œ æ³¨æ„æ“ä½œç±»é‡Œé¢çš„å‚æ•°ä¸è¦åŠ ç‚¹ã€‚

> - æ·»åŠ ç±»
>
> ```java
> $(â€œdivâ€).addClass(''example'');
> ```

> - ç§»é™¤ç±»
>
> ```java
> $(â€œdivâ€).removeClass(''example'');
> ```

> - åˆ‡æ¢ç±»
>
> ```java
> $(â€œdivâ€).toggleClass(''example'');
> ```

> ==Attention:ç±»æ“ä½œä¸classNameåŒºåˆ«==
>
> åŸç”Ÿ JS ä¸­ className ä¼šè¦†ç›–å…ƒç´ åŸå…ˆé‡Œé¢çš„ç±»åã€‚
> jQuery é‡Œé¢ç±»æ“ä½œåªæ˜¯å¯¹æŒ‡å®šç±»è¿›è¡Œæ“ä½œï¼Œä¸å½±å“åŸå…ˆçš„ç±»åã€‚

### jQuery æ•ˆæœ

å¯åœ¨APIæ–‡æ¡£ä¸­æŸ¥è¯¢å…·ä½“ç”¨æ³•ï¼š[https://jquery.cuishifeng.cn/](https://jquery.cuishifeng.cn/)

jQuery å°è£…äº†å¾ˆå¤šåŠ¨ç”»æ•ˆæœï¼Œä¾‹å¦‚ï¼š

![image-20220801182932251](C:\Users\31330\Pictures\Typora\image-20220801182932251.png)

#### 1.æ˜¾ç¤ºéšè—æ•ˆæœ



```java
1.æ˜¾ç¤º
//ï¼ˆ1ï¼‰speed:å­—ç¬¦ä¸²(â€œslowâ€,â€œnormalâ€, or â€œfastâ€)æˆ–è¡¨ç¤ºåŠ¨ç”»æ—¶é•¿çš„æ¯«ç§’æ•°å€¼(å¦‚ï¼š1000)ã€‚
//ï¼ˆ2ï¼‰easing:(Optional)ç”¨æ¥æŒ‡å®šåˆ‡æ¢æ•ˆæœï¼Œé»˜è®¤æ˜¯â€œswingâ€ï¼Œå¯ç”¨å‚æ•°â€œlinearâ€ã€‚
//ï¼ˆ3ï¼‰fn:å›è°ƒå‡½æ•°ï¼Œåœ¨åŠ¨ç”»å®Œæˆæ—¶æ‰§è¡Œçš„å‡½æ•°ï¼Œæ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡ã€‚
show([speed,[easing],[fn]]);//ä¸­æ‹¬å·è¡¨ç¤ºå¯ä»¥çœç•¥æ­¤å‚æ•°ï¼Œæ— åŠ¨ç”»ç›´æ¥æ˜¾ç¤º
```

```java
2.éšè—
//ï¼ˆ1ï¼‰speed:å­—ç¬¦ä¸²(â€œslowâ€,â€œnormalâ€, or â€œfastâ€)æˆ–è¡¨ç¤ºåŠ¨ç”»æ—¶é•¿çš„æ¯«ç§’æ•°å€¼(å¦‚ï¼š1000)ã€‚
//ï¼ˆ2ï¼‰easing:(Optional) ç”¨æ¥æŒ‡å®šåˆ‡æ¢æ•ˆæœï¼Œé»˜è®¤æ˜¯â€œswingâ€ï¼Œå¯ç”¨å‚æ•°â€œlinearâ€ã€‚
//ï¼ˆ3ï¼‰fn:å›è°ƒå‡½æ•°ï¼Œåœ¨åŠ¨ç”»å®Œæˆæ—¶æ‰§è¡Œçš„å‡½æ•°ï¼Œæ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡
hide([speed,[easing],[fn]]);//ä¸­æ‹¬å·è¡¨ç¤ºå¯ä»¥çœç•¥æ­¤å‚æ•°ï¼Œæ— åŠ¨ç”»ç›´æ¥æ˜¾ç¤º
```

```java
3.åˆ‡æ¢æ˜¾ç¤ºå’Œéšè—
toggle([speed,[easing],[fn]];
```

![](C:\Users\31330\Pictures\Typora\4-16593607124061.gif)

#### 2.æ»‘åŠ¨æ•ˆæœ

å‚æ•°æ„æ€ä¸æ˜¾ç¤ºéšè—å‚æ•°ä¸€è‡´

```javascript
1.ä¸‹æ»‘
slideDown([speed,[easing],[fn]];
```

```javascript
2.ä¸Šæ»‘
slideUp([speed,[easing],[fn]];
```

```javascript
3.æ»‘åŠ¨åˆ‡æ¢
slideToggle([speed,[easing],[fn]];
```

==**äº‹ä»¶åˆ‡æ¢**==

```java
//ï¼ˆ1ï¼‰over:é¼ æ ‡ç§»åˆ°å…ƒç´ ä¸Šè¦è§¦å‘çš„å‡½æ•°ï¼ˆç›¸å½“äºmouseenterï¼‰
//ï¼ˆ2ï¼‰out:é¼ æ ‡ç§»å‡ºå…ƒç´ è¦è§¦å‘çš„å‡½æ•°ï¼ˆç›¸å½“äºmouseleaveï¼‰
//ï¼ˆ3ï¼‰å¦‚æœåªå†™ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™é¼ æ ‡ç»è¿‡å’Œç¦»å¼€éƒ½ä¼šè§¦å‘å®ƒ
hover([over,]out);
```

for instance:(The drop-down menu of the navigation bar).

å®ç°æ•ˆæœï¼š

![](C:\Users\31330\Pictures\Typora\2.gif)

```
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        
        li {
            list-style-type: none;
        }
        
        a {
            text-decoration: none;
            font-size: 14px;
        }
        
        .nav {
            margin: 0 auto;
            height: 40px;
            border-bottom: 1px solid red;
        }
        
        .nav>li {
            position: relative;
            float: left;
            width: 80px;
            height: 41px;
            text-align: center;
        }
        
        .nav li a {
            display: block;
            width: 100%;
            height: 100%;
            line-height: 41px;
            color: #333;
        }
        
        .nav>li>a:hover {
            background-color: #eee;
        }
        
        .nav ul {
            display: none;
            position: absolute;
            top: 41px;
            left: 0;
            width: 100%;
            border-left: 1px solid red;
            border-right: 1px solid red;
        }
        
        .nav ul li {
            border-bottom: 1px solid red;
        }
        
        .nav ul li a:hover {
            background-color: #FFF5DA;
        }
    </style>
    <script src="jquery.min.js"></script>
</head>

<body>
    <ul class="nav">
        <li>
            <a href="#">å¯¼èˆªä¸€</a>
            <ul>
                <li>
                    <a href="">ç§ä¿¡</a>
                </li>
                <li>
                    <a href="">è¯„è®º</a>
                </li>
                <li>
                    <a href="">@æˆ‘</a>
                </li>
            </ul>
        </li>
        <li>
            <a href="#">å¯¼èˆªäºŒ</a>
            <ul>
                <li>
                    <a href="">ç§ä¿¡</a>
                </li>
                <li>
                    <a href="">è¯„è®º</a>
                </li>
                <li>
                    <a href="">@æˆ‘</a>
                </li>
            </ul>
        </li>
        <li>
            <a href="#">å¯¼èˆªä¸‰</a>
            <ul>
                <li>
                    <a href="">ç§ä¿¡</a>
                </li>
                <li>
                    <a href="">è¯„è®º</a>
                </li>
                <li>
                    <a href="">@æˆ‘</a>
                </li>
            </ul>
        </li>
        <li>
            <a href="#">å¯¼èˆªå››</a>
            <ul>
                <li>
                    <a href="">ç§ä¿¡</a>
                </li>
                <li>
                    <a href="">è¯„è®º</a>
                </li>
                <li>
                    <a href="">@æˆ‘</a>
                </li>
            </ul>
        </li>
    </ul>
    <script>
        $(function() {
            
            ......
        })
    </script>
</body>

</html>
```

jQueryéƒ¨åˆ†æœ‰å¤šç§å†™æ³•ï¼š

> 1. ä¸Šæ»‘å’Œä¸‹æ»‘åˆ†åˆ«ç”¨é¼ æ ‡ç¦»å¼€å’Œç»è¿‡æ¥å®ç°
>
> ```javascript
> //é¼ æ ‡ç»è¿‡ï¼Œä¸‹æ»‘
> $(".nav>li").mouseover(function() {
>     $(this).children("ul").slideDown(200);
> });
> //é¼ æ ‡ç¦»å¼€ï¼Œä¸Šæ»‘
> $(".nav>li").mouseout(function() {
>     $(this).children("ul").slideUp(200);
> });
> ```
>
> 2. ç”¨ä¸Šé¢è¯´çš„äº‹ä»¶åˆ‡æ¢æ¥å†™
>
> ```javascript
> //äº‹ä»¶åˆ‡æ¢ hover å°±æ˜¯é¼ æ ‡ç»è¿‡å’Œç¦»å¼€çš„å¤åˆå†™æ³•ï¼Œä¸¤ä¸ªå‡½æ•°å¯¹åº”ç»è¿‡å’Œç¦»å¼€ã€‚
> $(".nav>li").hover(function() {
>     $(this).children("ul").slideDown(200);
> }, function() {
>     $(this).children("ul").slideUp(200);
> });
> ```
>
> ç®€åŒ–äº‹ä»¶åˆ‡æ¢å†™æ³•ï¼šåªå†™ä¸€ä¸ªå‡½æ•°ï¼Œé¼ æ ‡ç»è¿‡å’Œé¼ æ ‡ç¦»å¼€éƒ½ä¼šè§¦å‘è¿™ä¸ªå‡½æ•°
>
> ```javascript
> $(".nav>li").hover(function() {
>     $(this).children("ul").slideToggle();
> });
> ```

ä¸Šè¿°å†™æ³•çš„bugï¼šå¿«é€Ÿç»è¿‡ç¦»å¼€ï¼Œå¯¼èˆªåŠ¨ç”»ç­‰ä¸€ä¸ªç»“æŸï¼Œå¦ä¸€ä¸ªæ‰å¼€å§‹

![](C:\Users\31330\Pictures\Typora\3.gif)



å¾…è§£å†³ï¼šåŠ¨ç”»é˜Ÿåˆ—ï¼ˆåŠ¨ç”»æˆ–è€…æ•ˆæœä¸€æ—¦è§¦å‘å°±ä¼šæ‰§è¡Œï¼Œå¦‚æœå¤šæ¬¡è§¦å‘ï¼Œå°±é€ æˆå¤šä¸ªåŠ¨ç”»æˆ–è€…æ•ˆæœæ’é˜Ÿæ‰§è¡Œã€‚ï¼‰

è§£å†³æ–¹æ³•ï¼š**åœæ­¢æ’é˜Ÿ**

```javascript
//(1)stop()æ–¹æ³•ç”¨äºåœæ­¢åŠ¨ç”»æˆ–æ•ˆæœã€‚
//(2)æ³¨æ„:stop()å†™åˆ°åŠ¨ç”»æˆ–è€…æ•ˆæœçš„å‰é¢ï¼Œç›¸å½“äºåœæ­¢ç»“æŸä¸Šä¸€æ¬¡çš„åŠ¨ç”»ã€‚åªæ‰§è¡Œæœ€æ–°çš„ä¸€æ¬¡ã€‚
stop();
```

å®Œæ•´ä»£ç ï¼š

```javascript
$(".nav>li").hover(function() {
    // stop æ–¹æ³•å¿…é¡»å†™åˆ°åŠ¨ç”»çš„å‰é¢ï¼Œç»“æŸä¸Šä¸€æ¬¡çš„åŠ¨ç”»
    $(this).children("ul").stop().slideToggle();
});
```

#### 3.æ·¡å…¥æ·¡å‡ºæ•ˆæœ

å°±æ˜¯é€æ˜åº¦ä»0å¢åŠ åˆ°1çš„å˜åŒ–ã€‚

//å‚æ•°ä¸ä¸Šè¿°ä¸€è‡´

ï¼ˆ1ï¼‰speedï¼šå­—ç¬¦ä¸²(â€œslowâ€,â€œnormalâ€, or â€œfastâ€)æˆ–è¡¨ç¤ºåŠ¨ç”»æ—¶é•¿çš„æ¯«ç§’æ•°å€¼(å¦‚ï¼š1000)ã€‚
ï¼ˆ2ï¼‰easingï¼š(Optional) ç”¨æ¥æŒ‡å®šåˆ‡æ¢æ•ˆæœï¼Œé»˜è®¤æ˜¯â€œswingâ€ï¼Œå¯ç”¨å‚æ•°â€œlinearâ€ã€‚
ï¼ˆ3ï¼‰fn:  å›è°ƒå‡½æ•°ï¼Œåœ¨åŠ¨ç”»å®Œæˆæ—¶æ‰§è¡Œçš„å‡½æ•°ï¼Œæ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡ã€‚

```java
1.æ·¡å…¥
fadeIn([speed,[easing],[fn]];
```

```java
2.æ·¡å‡º
fadeOut([speed,[easing],[fn]];
```

```java
3.æ·¡å…¥æ·¡å‡ºåˆ‡æ¢
fadeToggle([speed,[easing],[fn]];
```

**æ¸è¿›æ–¹å¼è°ƒæ•´åˆ°æŒ‡å®šçš„ä¸é€æ˜åº¦**

```java
//opacity é€æ˜åº¦ï¼Œå–å€¼0~1
fadeTo([[speed],opacity,[easing],[fn]];
```

#### 4.è‡ªå®šä¹‰åŠ¨ç”» animate

```java
//params: æƒ³è¦æ›´æ”¹çš„æ ·å¼å±æ€§ï¼Œä»¥å¯¹è±¡å½¢å¼ä¼ é€’ã€‚å±æ€§åå¯ä»¥ä¸ç”¨å¸¦å¼•å·ï¼Œå¦‚æœæ˜¯å¤åˆå±æ€§åˆ™éœ€è¦é‡‡
å–é©¼å³°å‘½åæ³• borderLeftã€‚å…¶ä½™å‚æ•°éƒ½å¯ä»¥çœç•¥ã€‚
animate(params,[speed],[easing],[fn];
```



***

### jQuery å±æ€§æ“ä½œ



#### è®¾ç½®æˆ–è·å–å…ƒç´ å›ºæœ‰å±æ€§å€¼

å…ƒç´ å›ºæœ‰å±æ€§å°±æ˜¯å…ƒç´ æœ¬èº«è‡ªå¸¦çš„å±æ€§ï¼Œæ¯”å¦‚ <a> å…ƒç´ é‡Œé¢çš„ href ï¼Œæ¯”å¦‚ <input> å…ƒç´ é‡Œé¢çš„ typeã€‚

```java
1.è·å–
prop(''å±æ€§'');
2.è®¾ç½®
prop(''å±æ€§'', ''å±æ€§å€¼'');
```



#### è®¾ç½®æˆ–è·å–å…ƒç´ è‡ªå®šä¹‰å±æ€§å€¼

ç”¨æˆ·è‡ªå·±ç»™å…ƒç´ æ·»åŠ çš„å±æ€§ï¼Œæˆ‘ä»¬ç§°ä¸ºè‡ªå®šä¹‰å±æ€§ã€‚ æ¯”å¦‚ç»™ div æ·»åŠ  index =â€œ1â€ã€‚

```java
1.è·å–
attr(''å±æ€§'');  // ç±»ä¼¼åŸç”Ÿ getAttribute()
2.è®¾ç½®
attr(''å±æ€§'', ''å±æ€§å€¼'');   // ç±»ä¼¼åŸç”Ÿ setAttribute()
```



**æ•°æ®ç¼“å­˜data()**

data() æ–¹æ³•å¯ä»¥åœ¨æŒ‡å®šçš„å…ƒç´ ä¸Šå­˜å–æ•°æ®ï¼Œå¹¶ä¸ä¼šä¿®æ”¹ DOM å…ƒç´ ç»“æ„ã€‚æœ¬è´¨ä¸Šæ˜¯å­˜æ”¾åœ¨å…ƒç´ ç¼“å­˜ä¸­ï¼Œä¸€æ—¦é¡µé¢åˆ·æ–°ï¼Œä¹‹å‰å­˜æ”¾çš„æ•°æ®éƒ½å°†è¢«ç§»é™¤ã€‚

```java
1.å­˜å…¥æ•°æ®
data(''name'',''value'');   // å‘è¢«é€‰å…ƒç´ é™„åŠ æ•°æ®
//ä¾‹å¦‚ï¼š$('span').data('uname','roydon');
2.è·å–æ•°æ®
date(''name'');  //å¾—åˆ°æ•°å­—å‹æ•°æ®ï¼Œè·å–H5è‡ªå®šä¹‰å±æ€§data-indexæ—¶ï¼Œç›´æ¥å†™indexå³å¯
```



***

### jQuery å†…å®¹æ–‡æœ¬å€¼

ä¸»è¦é’ˆå¯¹å…ƒç´ çš„å†…å®¹è¿˜æœ‰è¡¨å•çš„å€¼æ“ä½œã€‚

1. æ™®é€šå…ƒç´ å†…å®¹ html()ï¼ˆ ç›¸å½“äºåŸç”Ÿinner HTML)

```java
1.è·å–å…ƒç´ å†…å®¹
html()
2.è®¾ç½®å…ƒç´ å†…å®¹
html(''å†…å®¹'')
```

2. æ™®é€šå…ƒç´ æ–‡æœ¬å†…å®¹ text()   (ç›¸å½“ä¸åŸç”Ÿ innerText)

```java
1.è·å–
text()
2.è®¾ç½®
text(''æ–‡æœ¬å†…å®¹'')
```

3. è¡¨å•çš„å€¼ val()ï¼ˆ ç›¸å½“äºåŸç”Ÿvalue)

```
1.è·å–
val()
2.è®¾ç½®
val(''å†…å®¹'')
```

ä¿ç•™ä¸¤ä½å°æ•°ï¼š``toFixed(2);``

***

### jQuery å…ƒç´ æ“ä½œ

#### éå†å…ƒç´ 

jQuery éšå¼è¿­ä»£åªèƒ½å¯¹åŒä¸€ç±»å…ƒç´ è¿›è¡Œç›¸åŒæ“ä½œã€‚

éå†å…ƒç´ å¯ä»¥åšåˆ°ç»™æ¯ä¸ªå…ƒç´ æ·»åŠ ä¸åŒæ“ä½œã€‚

**è¯­æ³•1ï¼š**

```javascript
//index å…ƒç´ ç´¢å¼•å·
//domEle æ˜¯æ¯ä¸ªDOMå…ƒç´ å¯¹è±¡ï¼ˆéjqueryå¯¹è±¡ï¼‰ï¼›æ‰€ä»¥è¦æƒ³ä½¿ç”¨jqueryæ–¹æ³•ï¼Œéœ€è¦å°†è¿™ä¸ªdomå…ƒç´ è½¬æ¢ä¸ºjqueryå¯¹è±¡ $(domEle)
$("div").each(function (index, domEle) {
    ......
});
```

ä¾‹å¦‚ï¼šç»Ÿè®¡ä¸‰ä¸ªdivå†…å®¹çš„å’Œ

```html
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>HTML5</title>
    <script src="./jquery.min.js"></script>
    <script>
        $(function () {
            var sum = 0;
            $('div').each(function (index, domEle) {
                console.log(index);
                console.log(domEle);
                sum += parseInt($(domEle).text());
            })
            console.log(sum);
        })
    </script>
</head>

<body>
    <div>2</div>
    <div>3</div>
    <div>5</div>
</body>

</html>
```

ç»“æœï¼š

<img src="C:\Users\31330\Pictures\Typora\image-20220802185810609.png" alt="image-20220802185810609" style="zoom:80%;" />

**è¯­æ³•2ï¼š**

```javascript
//$.each()æ–¹æ³•å¯ç”¨äºéå†ä»»ä½•å¯¹è±¡ã€‚ä¸»è¦ç”¨äºæ•°æ®å¤„ç†ï¼Œæ¯”å¦‚æ•°ç»„ï¼Œå¯¹è±¡
//index å…ƒç´ ç´¢å¼•å·;element éå†å†…å®¹
$.each(objectï¼Œfunction (index, element) {
    ......
});
```

ä¾‹å¦‚ï¼šéå†å¯¹è±¡{name:"roydon",age:20}

```javascript
$(function () {
    var user = { name: "roydon", age: 20 };
    $.each(user, function (i, ele) {
    //i ä¸ºå±æ€§åï¼›ele ä¸ºå±æ€§å€¼ã€‚éå†æ•°ç»„æ—¶i ä¸ºä¸‹æ ‡ï¼›ele ä¸ºå€¼
        console.log(i + " : " + ele);
    })
})
```

ç»“æœï¼š

![image-20220802190354543](C:\Users\31330\Pictures\Typora\image-20220802190354543.png)



***

#### åˆ›å»ºå…ƒç´ 

```java
$(''<li></li>''); 
```

***

#### æ·»åŠ å…ƒç´ 

```javascript
1.å†…éƒ¨æ·»åŠ ï¼ˆæ·»åŠ è¿‡åä¸åŸå…ƒç´ ç¨‹çˆ¶å­å…³ç³»
element.append(''å†…å®¹'');//æŠŠå†…å®¹æ”¾å…¥åŒ¹é…å…ƒç´ å†…éƒ¨æœ€åé¢ï¼Œç±»ä¼¼åŸç”Ÿ appendChildã€‚
element.prepend(''å†…å®¹'');//æŠŠå†…å®¹æ”¾å…¥åŒ¹é…å…ƒç´ å†…éƒ¨æœ€å‰é¢ã€‚
```

```javascript
2.å¤–éƒ¨æ·»åŠ ï¼ˆæ·»åŠ è¿‡åä¸åŸå…ƒç´ ç¨‹å…„å¼Ÿå…³ç³»
element.after(''å†…å®¹'');//æŠŠå†…å®¹æ”¾å…¥ç›®æ ‡å…ƒç´ åé¢
element.before(''å†…å®¹'');//æŠŠå†…å®¹æ”¾å…¥ç›®æ ‡å…ƒç´ å‰é¢
```

***

#### åˆ é™¤å…ƒç´ 

```javascript
element.remove();//åˆ é™¤åŒ¹é…çš„å…ƒç´ ï¼ˆæœ¬èº«ï¼‰
element.empty();//åˆ é™¤åŒ¹é…çš„å…ƒç´ é›†åˆä¸­æ‰€æœ‰çš„å­èŠ‚ç‚¹
element.html('''');//æ¸…ç©ºåŒ¹é…çš„å…ƒç´ å†…å®¹ï¼Œä¹Ÿå¯è®¾ç½®å†…å®¹
```

ä¾‹å¦‚ï¼šå…ƒç´ å¦‚ä¸‹ï¼š

```html
<ul>
    <li></li>
    <li></li>
    <li></li>
</ul>
```

1.$("ul").remove();  ç»“æœï¼šulè¿åŒliå…¨éƒ¨è¢«åˆ é™¤

2.$("ul").empty();  ç»“æœï¼šæ¸…ç©ºulé‡Œæ‰€æœ‰çš„liï¼›.html('''');ä¸å…¶ç±»ä¼¼

***

### jQuery å°ºå¯¸ã€ä½ç½®æ“ä½œ

#### jQuery å°ºå¯¸

![image-20220803184045483](C:\Users\31330\Pictures\Typora\image-20220803184045483.png)

å‚æ•°ä¸ºç©ºæ—¶æ˜¯å–å€¼ï¼Œå‚æ•°ä¸ä¸ºç©ºæ˜¯è®¾ç½®å®½é«˜ï¼›

ä¾‹å¦‚ï¼š

```
$("div").width();//è·å–divå®½åº¦
$("div").width(300);//è®¾ç½®å®½300
```

#### jQuery ä½ç½®

ä½ç½®ä¸»è¦æœ‰ä¸‰ä¸ªï¼š offset()ã€position()ã€scrollTop()/scrollLeft()

1.offset() è®¾ç½®æˆ–è·å–å…ƒç´ åç§»

- offset() ç›¸å¯¹äºæ–‡æ¡£çš„åç§»åæ ‡ï¼Œè·Ÿçˆ¶çº§æ²¡æœ‰å…³ç³»ã€‚
- è¯¥æ–¹æ³•æœ‰2ä¸ªå±æ€§ leftã€top ã€‚offset().top  è·å–è·ç¦»æ–‡æ¡£é¡¶éƒ¨çš„è·ç¦»ï¼Œoffset().left è·å–è·ç¦»æ–‡æ¡£å·¦ä¾§çš„è·ç¦»ã€‚
- å¯ä»¥è®¾ç½®å…ƒç´ çš„åç§»ï¼šoffset({ top: 50, left: 50 });

2.position() è·å–å…ƒç´ åç§»

- position() è¿”å›è¢«é€‰å…ƒç´ ç›¸å¯¹äºå¸¦æœ‰å®šä½çš„çˆ¶çº§åç§»åæ ‡ï¼Œå¦‚æœçˆ¶çº§éƒ½æ²¡æœ‰å®šä½ï¼Œåˆ™ä»¥æ–‡æ¡£ä¸ºå‡†ã€‚
- è¯¥æ–¹æ³•æœ‰2ä¸ªå±æ€§ leftã€topã€‚position().top è·å–è·ç¦»å®šä½çˆ¶çº§é¡¶éƒ¨çš„è·ç¦»ï¼Œposition().left è·å–è·ç¦»å®šä½çˆ¶çº§å·¦ä¾§çš„è·ç¦»ã€‚
- è¯¥æ–¹æ³•åªèƒ½è·å–ã€‚

3.scrollTop()/scrollLeft() è®¾ç½®æˆ–è·å–å…ƒç´ è¢«å·å»çš„å¤´éƒ¨å’Œå·¦ä¾§

- ç±»ä¼¼äºä¸€ä¸ªå°ç›’å­æ”¾å¤§å›¾ç‰‡ï¼Œå›¾ç‰‡ä¼šæ˜¾ç¤ºä¸å…¨ï¼Œä¸å…¨çš„éƒ¨åˆ†å°±æ˜¯scrollTop()/scrollLeft()

- åŠ å‚æ•°è¡¨ç¤ºè®¾ç½®

***

## jQuery äº‹ä»¶

***

### jQuery äº‹ä»¶æ³¨å†Œ

äº‹ä»¶å’ŒåŸç”ŸåŸºæœ¬ä¸€è‡´ã€‚

æ¯”å¦‚mouseoverã€mouseoutã€blurã€focusã€changeã€keydownã€keyupã€resizeã€scroll(é¡µé¢æ»šåŠ¨) ç­‰

å¸¸ç”¨äº‹ä»¶ï¼š[http://www.htmleaf.com/jquery-doc/#events](http://www.htmleaf.com/jquery-doc/#events)

![image-20220926134221444](C:\Users\31330\Pictures\Typora\image-20220926134221444.png)

**è¯­æ³•ï¼š**

```javascript
element.äº‹ä»¶(function(){})
ä¾‹å¦‚ï¼š
$(â€œdivâ€).click(function(){
    //äº‹ä»¶å¤„ç†ç¨‹åº
})
```

***

### jQuery äº‹ä»¶å¤„ç†

1.äº‹ä»¶å¤„ç† **on()** ç»‘å®šäº‹ä»¶åœ¨åŒ¹é…å…ƒç´ ä¸Šç»‘å®š**ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶**çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚

```javascript
//1. events: ä¸€ä¸ªæˆ–å¤šä¸ªç”¨ç©ºæ ¼åˆ†éš”çš„äº‹ä»¶ç±»å‹ï¼Œå¦‚"click"æˆ–"mouseover" ã€‚
//2. selector: å…ƒç´ çš„å­å…ƒç´ é€‰æ‹©å™¨ã€‚
//3. fn:å›è°ƒå‡½æ•° å³ç»‘å®šåœ¨å…ƒç´ èº«ä¸Šçš„ä¾¦å¬å‡½æ•°ã€‚
element.on(events,[selector],fn);
```

ğŸ”¸å½“**on()**ç»‘å®šå¤šä¸ªäº‹ä»¶ï¼š

```javascript
$(â€œdivâ€).on({
    mouseover: function(){}, //äº‹ä»¶1
    mouseout: function(){},  //äº‹ä»¶2
    click: function(){}      //äº‹ä»¶3
});
//è‹¥mouseoveräº‹ä»¶å’Œmouseoutäº‹ä»¶å“åº”ç¨‹åºç›¸åŒï¼Œåˆ™ç©ºæ ¼éš”å¼€å†™ä¸€èµ·
//$(â€œdivâ€).on(â€œmouseover mouseoutâ€, function() {
//    ......
//});
```

ğŸ”¸äº‹ä»¶å§”æ´¾ï¼š

```javascript
//liçš„å¤„ç†äº‹ä»¶å§”æ´¾ç»™çˆ¶ulï¼Œé‡Œé¢æ¯ä¸ªliéƒ½æœ‰äº†click
$('ul').on('click', 'li', function() {
    alert('hello world!');
});
```

==æ³¨æ„ï¼š==äº‹ä»¶å§”æ´¾ï¼ˆäº‹ä»¶ä»£ç†ï¼‰ç°åœ¨å¤§å¤šé‡‡ç”¨è¿™ç§å†™æ³•ï¼š

å½“åŠ¨æ€åˆ›å»ºå…ƒç´ æ—¶ï¼Œå¯ä»¥åŠ¨æ€è‡ªåŠ¨ä¸ºå…¶ç»‘å®šäº‹ä»¶

```javascript
ä¾‹å¦‚ï¼šolé‡Œæ·»åŠ liå¹¶åŠ¨æ€ç»‘å®šäº‹ä»¶
$("ol").on("click", "li", function() {
    alert('hello world!');
})
var li = $("<li>åæ¥åˆ›å»ºçš„li</li>");
$("ol").append(li);
//å¦‚æœæ­¤æ—¶ç”¨ä¼ ç»Ÿçš„ç»‘å®šäº‹ä»¶ç»‘å®šå•ä¸ªliï¼Œåˆ™ä¸ä¼šç”Ÿæ•ˆã€‚
//ä¸€èˆ¬å¯¹äºåç»­æ‹¼æ¥å…ƒç´ çš„æ¡ˆä¾‹ï¼Œéƒ½æ˜¯ç”¨äº‹ä»¶å§”æ´¾ï¼ˆäº‹ä»¶ä»£ç†ï¼‰
```

2.äº‹ä»¶å¤„ç† **off()** è§£ç»‘äº‹ä»¶å¯ä»¥ç§»é™¤é€šè¿‡ on() æ–¹æ³•æ·»åŠ çš„äº‹ä»¶å¤„ç†ç¨‹åºã€‚

å½“åªæƒ³è®©äº‹ä»¶è§¦å‘ä¸€æ¬¡ï¼Œå°±ä¼šç”¨åˆ°è§£ç»‘äº‹ä»¶ã€‚ï¼ˆä¹Ÿå¯ä»¥æŠŠç»‘å®šäº‹ä»¶çš„on()æ”¹ä¸ºone()è¡¨ç¤ºäº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼‰

```javascript
$("p").off(); // è§£ç»‘på…ƒç´ æ‰€æœ‰äº‹ä»¶å¤„ç†ç¨‹åº
$("p").off( "click");  // è§£ç»‘på…ƒç´ ä¸Šé¢çš„ç‚¹å‡»äº‹ä»¶
$("ul").off("click", "li");  // è§£ç»‘äº‹ä»¶å§”æ‰˜
```

3.è‡ªåŠ¨è§¦å‘äº‹ä»¶ **trigger()** 

æœ‰äº›äº‹ä»¶å¸Œæœ›è‡ªåŠ¨è§¦å‘, æ¯”å¦‚è½®æ’­å›¾è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½è·Ÿç‚¹å‡»å³ä¾§æŒ‰é’®ä¸€è‡´ã€‚å¯ä»¥åˆ©ç”¨å®šæ—¶å™¨è‡ªåŠ¨è§¦å‘å³ä¾§æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼Œä¸å¿…é¼ æ ‡ç‚¹å‡»è§¦å‘ã€‚

ä¾‹å¦‚ï¼Œdivè‡ªåŠ¨è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼š

```javascript
$(function() {
    $("div").on("click", function() {
        $(this).css("background","red")
    });
    // è‡ªåŠ¨è§¦å‘ç‚¹å‡»äº‹ä»¶
    // æ–¹æ³•ä¸€ï¼š å…ƒç´ .äº‹ä»¶()
    // $("div").click();ä¼šè§¦å‘å…ƒç´ çš„é»˜è®¤è¡Œä¸º
    // æ–¹æ³•äºŒï¼š å…ƒç´ .trigger("äº‹ä»¶")
    // $("div").trigger("click");ä¼šè§¦å‘å…ƒç´ çš„é»˜è®¤è¡Œä¸º
    // æ–¹æ³•ä¸‰ï¼š å…ƒç´ .triggerHandler("äº‹ä»¶") å°±æ˜¯ä¸ä¼šè§¦å‘å…ƒç´ çš„é»˜è®¤è¡Œä¸º
    $("div").triggerHandler("click");
});
```

***

### jQuery äº‹ä»¶å¯¹è±¡

äº‹ä»¶è¢«è§¦å‘ï¼Œå°±ä¼šæœ‰äº‹ä»¶å¯¹è±¡eventçš„äº§ç”Ÿã€‚

```javascript
element.on(events,[selector],function(event) {
    //é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼ševent.preventDefault()  æˆ–è€… return false;
    //é˜»æ­¢å†’æ³¡ï¼š event.stopPropagation()
})
```

***

## jQuery å…¶å®ƒæ–¹æ³•

***

### jQuery å¯¹è±¡æ‹·è´

æŠŠæŸä¸ªå¯¹è±¡æ‹·è´ï¼ˆåˆå¹¶ï¼‰ ç»™å¦å¤–ä¸€ä¸ªå¯¹è±¡ä½¿ç”¨:

```javascript
//(1)deep: å¦‚æœè®¾ä¸ºtrue ä¸ºæ·±æ‹·è´ï¼Œé»˜è®¤ä¸ºfalse æµ…æ‹·è´
//(2)target ç›®æ ‡å¯¹è±¡
//(3)object1 å¾…æ‹·è´å¯¹è±¡ï¼›ï¼›objectN:å¾…æ‹·è´åˆ°ç¬¬Nä¸ªå¯¹è±¡çš„å¯¹è±¡ã€‚
$.extend([deep], target, object1, [objectN]));
```



> ğŸ”¸æµ…æ‹·è´ï¼š
>
> æŠŠåŸå¯¹è±¡ä¸­**å¤æ‚æ•°æ®ç±»å‹**çš„``åœ°å€``æ‹·è´ç»™ç›®æ ‡å¯¹è±¡ï¼›
>
> ä¿®æ”¹ç›®æ ‡å¯¹è±¡ä¼šå½±å“è¢«æ‹·è´å¯¹è±¡ï¼šè‹¥ä¿®æ”¹æ‹·è´åå¯¹è±¡å¤æ‚æ•°æ®ç±»å‹çš„å€¼åŸå¯¹è±¡ä¹Ÿä¼šè¢«ä¿®æ”¹
>
> ç°åœ¨jsçš„æ·±æ‹·è´å¯ä»¥ç”¨ ``new = {...oldObj}``
>
> ğŸ”¸æ·±æ‹·è´ï¼š
>
> å®Œå…¨æ‹·è´ï¼›
>
> ä¿®æ”¹ç›®æ ‡å¯¹è±¡ä¸ä¼šå½±å“è¢«æ‹·è´å¯¹è±¡

### jQuery å¤šåº“å…±å­˜

jQueryä½¿ç”¨$ä½œä¸ºæ ‡ç¤ºç¬¦ï¼Œéšç€jQueryçš„æµè¡Œ,å…¶ä»– js åº“ä¹Ÿä¼šç”¨è¿™$ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œ è¿™æ ·ä¸€èµ·ä½¿ç”¨ä¼šå¼•èµ·å†²çªã€‚æ•…éœ€è¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œè®©jQuery å’Œå…¶ä»–çš„jsåº“ä¸å­˜åœ¨å†²çªï¼Œå¯ä»¥åŒæ—¶å­˜åœ¨ï¼Œè¿™å°±å«åšå¤šåº“å…±å­˜ã€‚

> è§£å†³ï¼š
>
> 1. æŠŠé‡Œé¢çš„ $ ç¬¦å· ç»Ÿä¸€æ”¹ä¸º jQueryã€‚ æ¯”å¦‚  jQuery(''div'');
> 2. jQuery å˜é‡è§„å®šæ–°çš„åç§°ï¼š$.noConflict();  æ¯”å¦‚ var xx = $.noConflict();

### jsçš„äº”ç§è¿­ä»£æ–¹æ³•

ECMAScript5ä¸ºæ•°ç»„å®šä¹‰äº†5ä¸ªè¿­ä»£æ–¹æ³•ã€‚æ¯ä¸ªæ–¹æ³•éƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šè¦åœ¨æ¯ä¸€é¡¹ä¸Šè¿è¡Œçš„å‡½æ•°å’Œï¼ˆå¯é€‰çš„ï¼‰è¿è¡Œè¯¥å‡½æ•°çš„ä½œç”¨åŸŸå¯¹è±¡ï¼ˆå³å½±å“thisçš„å€¼ï¼‰ã€‚ä¼ å…¥è¿™äº›æ–¹æ³•ä¸­çš„å‡½æ•°ä¼šæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šæ•°ç»„é¡¹çš„å€¼ã€è¯¥é¡¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®å’Œæ•°ç»„å¯¹è±¡æœ¬èº«ã€‚æ ¹æ®ä½¿ç”¨æ–¹æ³•çš„ä¸åŒï¼Œè¿™ä¸ªå‡½æ•°æ‰§è¡Œåçš„è¿”å›å€¼å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šå½±å“æ–¹æ³•çš„è¿”å›å€¼ã€‚è¿™5ä¸ªè¿­ä»£æ–¹æ³•æ˜¯ï¼š

- `every()`ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šçš„å‡½æ•°ã€‚å¦‚æœè¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å›`true`ï¼Œåˆ™è¿”å›`true`ã€‚
- `filter()`ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šçš„å‡½æ•°ï¼Œè¿”å›è¯¥å‡½æ•°ä¼šè¿”å›`true`çš„é¡¹ç»„æˆçš„æ•°ç»„ã€‚
- `forEach()`ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šçš„å‡½æ•°ã€‚è¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚
- `map()`ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šçš„å‡½æ•°ï¼Œè¿”å›æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœç»„æˆçš„æ•°ç»„ã€‚
- `some()`ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šçš„å‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹ä»»ä¸€é¡¹è¿”å›`true`ï¼Œåˆ™è¿”å›`true`ã€‚

***

**`every()`**å’Œ**`some()`**éå¸¸ç›¸ä¼¼ï¼Œå®ƒä»¬éƒ½ç”¨äºæŸ¥è¯¢æ•°ç»„ä¸­çš„é¡¹æ˜¯å¦æ»¡è¶³æŸä¸ªæ¡ä»¶ã€‚å¯¹äº`every()`æ–¹æ³•æ¥è¯´ï¼Œä¼ å…¥çš„å‡½æ•°å¿…é¡»å¯¹æ¯ä¸€é¡¹éƒ½è¿”å›`true`ï¼Œè¿™ä¸ªæ–¹æ³•æ‰è¿”å›`true`ã€‚å¦åˆ™ï¼Œå®ƒå°±è¿”å›`false`ã€‚è€Œ`some()`æ–¹æ³•åˆ™æ˜¯åªè¦ä¼ å…¥çš„å‡½æ•°å¯¹æ•°ç»„çš„æŸä¸€é¡¹è¿”å›`true`ï¼Œå°±ä¼šè¿”å›`true`ã€‚ä¾‹å¦‚ï¼š

```javascript
var nums = [1,2,3,4,5,4,3,2,1];
var result = nums.every(function(item, index, array){
  return (item > 2);
})
console.info(result);
// æ§åˆ¶å°ä¸­æ‰“å° false
```

```javascript
var nums = [1,2,3,4,5,4,3,2,1];
var result = nums.some(function(item, index, array){
  return (item > 2);
})
console.info(result);
// æ§åˆ¶å°ä¸­æ‰“å° true
```

**`filter()`**å‡½æ•°ï¼Œå®ƒåˆ©ç”¨æŒ‡å®šçš„å‡½æ•°ç¡®å®šæ˜¯å¦å­˜åœ¨è¿”å›çš„æ•°ç»„ä¸­åŒ…å«æŸä¸€é¡¹ã€‚ä¾‹å¦‚ï¼Œè¦è¿”å›ä¸€ä¸ªæ‰€æœ‰æ•°å€¼éƒ½å¤§äº2çš„æ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç ï¼š

```javascript
var nums = [1,2,3,4,5,4,3,2,1];
var result = nums.filter(function(item, index, array){
  return (item > 2);
})
console.info(result);
// [3,4,5,4,3]
```

**`map()`**æ–¹æ³•ä¹Ÿ**è¿”å›ä¸€ä¸ªæ•°ç»„**ï¼Œè€Œè¿™ä¸ªæ•°ç»„çš„æ¯ä¸€é¡¹éƒ½æ˜¯åœ¨åŸå§‹æ•°ç»„ä¸­çš„å¯¹åº”é¡¹ä¸Šè¿è¡Œä¼ å…¥å‡½æ•°çš„ç»“æœã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç»™æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹éƒ½ä¹˜ä»¥2ï¼Œç„¶åè¿”å›è¿™äº›ä¹˜ç§¯ç»„æˆçš„æ•°ç»„ï¼š

```javascript
var nums = [1,2,3,4,5,4,3,2,1];
var result = nums.map(function(item, index, array){
  return item * 2;
})
console.info(result);
// [2,4,6,8,10,8,6,4,2]
```

**`forEach()`**æ–¹æ³•ï¼Œå®ƒåªæ˜¯å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œä¼ å…¥çš„å‡½æ•°ã€‚è¿™ä¸ªæ–¹æ³•**æ²¡æœ‰è¿”å›å€¼**ï¼Œæœ¬è´¨ä¸Šäºä½¿ç”¨`for`å¾ªç¯è¿­ä»£æ•°ç»„æ˜¯ä¸€æ ·çš„ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š

```javascript
var nums = [1,2,3,4,5,4,3,2,1];
nums.forEach(function(item, index, array){
  //æ‰§è¡Œéœ€è¦çš„æ“ä½œ
})
```







***

### jQuery æ’ä»¶

jQuery åŠŸèƒ½æ¯”è¾ƒæœ‰é™ï¼Œæƒ³è¦æ›´å¤æ‚çš„ç‰¹æ•ˆæ•ˆæœï¼Œå¯ä»¥å€ŸåŠ©äº jQuery æ’ä»¶å®Œæˆã€‚
æ³¨æ„: è¿™äº›æ’ä»¶ä¹Ÿæ˜¯ä¾èµ–äºjQueryæ¥å®Œæˆçš„ï¼Œæ‰€ä»¥å¿…é¡»è¦å…ˆå¼•å…¥jQueryæ–‡ä»¶ï¼Œå› æ­¤ä¹Ÿç§°ä¸º jQuery æ’ä»¶ã€‚
jQuery æ’ä»¶å¸¸ç”¨çš„ç½‘ç«™ï¼š

1. jQuery æ’ä»¶åº“ http://www.jq22.com/ 

2. jQuery ä¹‹å®¶ http://www.htmleaf.com/  

jQuery æ’ä»¶ä½¿ç”¨æ­¥éª¤ï¼š

1. å¼•å…¥ç›¸å…³æ–‡ä»¶ã€‚ï¼ˆjQuery æ–‡ä»¶ å’Œ æ’ä»¶æ–‡ä»¶ï¼‰ 
2. å¤åˆ¶ç›¸å…³htmlã€cssã€js (è°ƒç”¨æ’ä»¶)ã€‚

jQuery æ’ä»¶æ¼”ç¤ºï¼š
\1. ç€‘å¸ƒæµ
\2. å›¾ç‰‡æ‡’åŠ è½½ï¼ˆå›¾ç‰‡ä½¿ç”¨å»¶è¿ŸåŠ è½½åœ¨å¯æé«˜ç½‘é¡µä¸‹è½½é€Ÿåº¦ã€‚å®ƒä¹Ÿèƒ½å¸®åŠ©å‡è½»æœåŠ¡å™¨è´Ÿè½½ï¼‰
å½“æˆ‘ä»¬é¡µé¢æ»‘åŠ¨åˆ°å¯è§†åŒºåŸŸï¼Œå†æ˜¾ç¤ºå›¾ç‰‡ã€‚
æˆ‘ä»¬ä½¿ç”¨jquery æ’ä»¶åº“ EasyLazyloadã€‚ æ³¨æ„ï¼Œæ­¤æ—¶çš„jså¼•å…¥æ–‡ä»¶å’Œjsè°ƒç”¨å¿…é¡»å†™åˆ° DOMå…ƒç´ ï¼ˆå›¾ç‰‡ï¼‰æœ€åé¢
\3. å…¨å±æ»šåŠ¨ï¼ˆfullpage.jsï¼‰
gitHubï¼š https://github.com/alvarotrigo/fullPage.js
ä¸­æ–‡ç¿»è¯‘ç½‘ç«™ï¼š http://www.dowebok.com/demo/2014/77/





https://www.bilibili.com/video/BV1Sy4y1C7ha?p=435&spm_id_from=pageDriver&vd_source=616a9dd528080cf576646147166fe033





***

# Ajax

***

## åŸºç¡€



### URLåœ°å€

ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œç½‘é¡µèµ„æºç»Ÿä¸€æ ‡è¯†ç¬¦ã€‚

![image-20220804180332284](C:\Users\31330\Pictures\Typora\image-20220804180332284.png)

### å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šä¿¡è¿‡ç¨‹ 

![image-20220804180805856](C:\Users\31330\Pictures\Typora\image-20220804180805856.png)

æµè§ˆå™¨å¼€å‘å·¥å…·åˆ†æé€šä¿¡è¿‡ç¨‹

![image-20220804181231618](C:\Users\31330\Pictures\Typora\image-20220804181231618.png)

HTMLæ˜¯ç½‘é¡µçš„éª¨æ¶
 CSSæ˜¯ç½‘é¡µçš„é¢œå€¼
 Javascriptæ˜¯ç½‘é¡µçš„è¡Œä¸º

**æ•°æ®ï¼Œåˆ™æ˜¯ç½‘é¡µçš„çµé­‚**

![image-20220804181647542](C:\Users\31330\Pictures\Typora\image-20220804181647542.png)

![image-20220804182156982](C:\Users\31330\Pictures\Typora\image-20220804182156982.png)

å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼Œè¯·æ±‚çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæœ€å¸¸è§çš„ä¸¤ç§è¯·æ±‚æ–¹å¼åˆ†åˆ«ä¸º get å’Œ post è¯·æ±‚ã€‚
 get è¯·æ±‚é€šå¸¸ç”¨äºè·å–æœåŠ¡ç«¯èµ„æºï¼ˆå‘æœåŠ¡å™¨è¦èµ„æºï¼‰
      ä¾‹å¦‚ï¼šæ ¹æ® URL åœ°å€ï¼Œä»æœåŠ¡å™¨è·å– HTML æ–‡ä»¶ã€css æ–‡ä»¶ã€jsæ–‡ä»¶ã€å›¾ç‰‡æ–‡ä»¶ã€æ•°æ®èµ„æºç­‰

 post è¯·æ±‚é€šå¸¸ç”¨äºå‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼ˆå¾€æœåŠ¡å™¨å‘é€èµ„æºï¼‰
      ä¾‹å¦‚ï¼šç™»å½•æ—¶å‘æœåŠ¡å™¨æäº¤çš„ç™»å½•ä¿¡æ¯ã€æ³¨å†Œæ—¶å‘æœåŠ¡å™¨æäº¤çš„æ³¨å†Œä¿¡æ¯ã€æ·»åŠ ç”¨æˆ·æ—¶å‘æœåŠ¡å™¨æäº¤çš„ç”¨æˆ·ä¿¡æ¯ç­‰å„ç§æ•°æ®æäº¤æ“ä½œ

### æ¥å£

è¯·æ±‚æ•°æ®æ—¶ï¼Œè¢«è¯·æ±‚çš„ URL åœ°å€ï¼Œå°±å«åšæ•°æ®æ¥å£ï¼ˆç®€ç§°æ¥å£ï¼‰ã€‚

åŒæ—¶ï¼Œæ¯ä¸ªæ¥å£å¿…é¡»æœ‰è¯·æ±‚æ–¹å¼ã€‚å…·ä½“éœ€è¦å“ªäº›æ“ä½œå¯æŸ¥çœ‹æ¥å£æ–‡æ¡£ã€‚

æ¥å£æµ‹è¯•å·¥å…·ï¼šï¼ˆå¥½å¤„ï¼šä¸ç”¨å†™ä»£ç ï¼‰

<img src="C:\Users\31330\Pictures\Typora\image-20220804185827556.png" alt="image-20220804185827556" style="zoom: 80%;" />

PostManä¸‹è½½åœ°å€ï¼š[https://www.postman.com/downloads/](https://www.postman.com/downloads/)

æˆ–ä¸­æ–‡ç‰ˆå·¥å…·apifoxï¼šhttps://www.apifox.cn/

ä¸­æ–‡ç‰ˆå·¥å…·apifoxå¸®åŠ©åœ°å€ï¼š[å¸®åŠ©ä¸­å¿ƒ | Apifox ä½¿ç”¨æ–‡æ¡£](https://www.apifox.cn/help/)

<img src="C:\Users\31330\Pictures\Typora\apifox-logo-text.png" alt="img" style="zoom: 50%;" />

### åˆè¯†Ajax 

å…¨ç§°æ˜¯ Asynchronous Javascript And XMLï¼ˆå¼‚æ­¥ JavaScript å’Œ XMLï¼‰ã€‚
é€šä¿—çš„ç†è§£ï¼šåœ¨ç½‘é¡µä¸­åˆ©ç”¨ XMLHttpRequest å¯¹è±¡å’ŒæœåŠ¡å™¨è¿›è¡Œæ•°æ®äº¤äº’çš„æ–¹å¼ï¼Œå°±æ˜¯Ajaxã€‚

Ajaxèƒ½è®©æˆ‘ä»¬è½»æ¾å®ç°ç½‘é¡µä¸æœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®äº¤äº’ã€‚

åº”ç”¨åœºæ™¯ï¼š

- æ³¨å†Œç”¨æˆ·æ—¶åŠ¨æ€æ£€æµ‹ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨
- æœç´¢æç¤ºåˆ—è¡¨
- æ•°æ®åˆ†é¡µæ˜¾ç¤º
- æ•°æ®çš„å¢åˆ æ”¹æŸ¥

## jQueryä¸­çš„Ajax

ç”±äºæµè§ˆå™¨ä¸­æä¾›çš„ XMLHttpRequest ç”¨æ³•æ¯”è¾ƒå¤æ‚ã€‚

æ‰€ä»¥ jQuery å¯¹ XMLHttpRequest è¿›è¡Œäº†å°è£…ï¼Œæä¾›äº†ä¸€ç³»åˆ— Ajax ç›¸å…³çš„å‡½æ•°ï¼Œæå¤§åœ°é™ä½äº† Ajax çš„ä½¿ç”¨éš¾åº¦ã€‚

jQuery ä¸­å‘èµ· Ajax è¯·æ±‚æœ€å¸¸ç”¨çš„ä¸‰ä¸ªæ–¹æ³•å¦‚ä¸‹ï¼š

>1.   **$.get()**
>2.   **$.post()**
>3.   **$.ajax()**



1ã€``$.get()``

åŠŸèƒ½å•ä¸€ï¼Œå‘èµ· get è¯·æ±‚ï¼Œä»æœåŠ¡å™¨æ‹¿æ•°æ®ã€‚

```javascript
$.get(url, [data], [callback])
//å‚æ•°ä¸€ï¼šurl	stringç±»å‹	è¦è¯·æ±‚çš„èµ„æºåœ°å€
//å‚æ•°äºŒï¼šdata	objectç±»å‹	è¯·æ±‚èµ„æºæœŸé—´è¦æºå¸¦çš„å‚æ•°
//å‚æ•°ä¸‰ï¼šcallback	è¯·æ±‚æˆåŠŸæ—¶çš„å›è°ƒå‡½æ•°
```

2ã€``$.post()``

åŠŸèƒ½å•ä¸€ï¼Œå‘èµ· post è¯·æ±‚ï¼Œå‘æœåŠ¡å™¨æäº¤æ•°æ®ã€‚

```javascript
$.post(url, [data], [callback]);
//å‚æ•°ä¸€ï¼šurl	stringç±»å‹	æäº¤æ•°æ®çš„åœ°å€
//å‚æ•°äºŒï¼šdata	objectç±»å‹	è¦æäº¤çš„æ•°æ®
//å‚æ•°ä¸‰ï¼šcallback	æ•°æ®æäº¤æˆåŠŸæ—¶çš„å›è°ƒå‡½æ•°
```

3ã€``$.ajax()``

åŠŸèƒ½æ›´å¤š

```javascript
$.ajax({
   type: '', // è¯·æ±‚çš„æ–¹å¼ GET æˆ– POST
   url: '',  // è¯·æ±‚çš„URL
   data: { },// è¯·æ±‚è¦æºå¸¦çš„æ•°æ®
   success: function(res) { } // è¯·æ±‚æˆåŠŸä¹‹åçš„å›è°ƒå‡½æ•°
})
```



æ·»åŠ åˆ é™¤å›¾ä¹¦ï¼š

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="./lib/bootstrap.css" />
  <script src="./lib/jquery.js"></script>
</head>

<body style="padding: 20px;">

  <!-- æ·»åŠ å›¾ä¹¦çš„Panelé¢æ¿ bs3 -->
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title">æ·»åŠ æ–°å›¾ä¹¦</h3>
    </div>
    <div class="panel-body form-inline">

      <div class="input-group">
        <div class="input-group-addon">ä¹¦å</div>
        <input type="text" class="form-control" id="iptBookname" placeholder="è¯·è¾“å…¥ä¹¦å">
      </div>

      <div class="input-group">
        <div class="input-group-addon">ä½œè€…</div>
        <input type="text" class="form-control" id="iptAuthor" placeholder="è¯·è¾“å…¥ä½œè€…">
      </div>

      <div class="input-group">
        <div class="input-group-addon">å‡ºç‰ˆç¤¾</div>
        <input type="text" class="form-control" id="iptPublisher" placeholder="è¯·è¾“å…¥å‡ºç‰ˆç¤¾">
      </div>

      <button id="btnAdd" class="btn btn-primary">æ·»åŠ </button>

    </div>
  </div>


  <!-- å›¾ä¹¦çš„è¡¨æ ¼ -->
  <table class="table table-bordered table-hover">
    <thead>
      <tr>
        <th>Id</th>
        <th>ä¹¦å</th>
        <th>ä½œè€…</th>
        <th>å‡ºç‰ˆç¤¾</th>
        <th>æ“ä½œ</th>
      </tr>
    </thead>
    <tbody id="tb"></tbody>
  </table>

  <script>
    $(function () {
      /* ä»æ¥å£è·å–æ•°æ® */
      function getBooks() {
        $.get('http://www.liulongbin.top:3006/api/getbooks', function (res) {
          console.log(res);
          if (res.status !== 200) return alert('false')
          var items = new Array();
          $.each(res.data, function (i, ele) {
            console.log(i+"->"+ele.id + "-" + ele.bookname + "-" + ele.author + "-" + ele.publisher);
            items.push('<tr><td>' + ele.id + '</td><td>' + ele.bookname + '</td><td>' + ele.author + '</td><td>' + ele.publisher + '</td><td><a href="javascript:;" class="del" data-id="' + ele.id + '">åˆ é™¤</a></td></tr>')
          })
          $('#tb').empty().append(items.join(''))
        })
      }
      getBooks()
      // $('.del').on('click', function () {
      //   console.log('hello del');
      // })
      /* åŠ¨æ€åˆ›å»ºå…ƒç´ ï¼Œéœ€è¦äº‹ä»¶å§”æ´¾ç»‘å®šäº‹ä»¶ */
      $('#tb').on('click', '.del', function () {
        console.log('del')
        var id = $(this).data('id')
        console.log(id);
        /* æ ¹æ®idåˆ é™¤ä¸€æ¡æ•°æ® */
        $.get('http://www.liulongbin.top:3006/api/delbook', { id: id }, function (res) {
          if (res.status !== 200) return alert('false')
          getBooks()
        })
      })

      /* æ–°å¢æ•°æ® */
      $('#btnAdd').on('click', function () {

        var iptBookname = $('#iptBookname').val().trim()
        var iptAuthor = $('#iptAuthor').val().trim()
        var iptPublisher = $('#iptPublisher').val().trim()
        if (iptBookname.length <= 0 || iptAuthor.length <= 0 || iptPublisher.length <= 0) return alert('ä¸èƒ½ä¸ºç©ºï¼')
        var newBook = {
          bookname: iptBookname,
          author: iptAuthor,
          publisher: iptPublisher
        }
        $.post('http://www.liulongbin.top:3006/api/addbook', newBook, function (res) {
          if (res.status !== 201) return alert('false')
          getBooks()
          $('#iptBookname').val('')
          $('#iptAuthor').val('')
          $('#iptPublisher').val('')
        })
      })
    })
  </script>
 
</body>

</html>
```



***

## formè¡¨å•ä¸æ¨¡æ¿å¼•æ“

### formè¡¨å•

è¡¨å•å°±æ˜¯æäº¤æ•°æ®åˆ°æœåŠ¡å™¨çš„é‡‡é›†å·¥å…·ã€‚HTMLä¸­çš„``form``æ ‡ç­¾ï¼Œå°±æ˜¯ç”¨äºé‡‡é›†ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯ï¼Œå¹¶é€šè¿‡``form``æ ‡ç­¾çš„æäº¤æ“ä½œï¼ŒæŠŠé‡‡é›†åˆ°çš„ä¿¡æ¯æäº¤åˆ°æœåŠ¡å™¨ç«¯è¿›è¡Œå¤„ç†ã€‚

è¡¨å•ç”±ä¸‰ä¸ªåŸºæœ¬éƒ¨åˆ†ç»„æˆï¼š

![image-20220805153113906](C:\Users\31330\Pictures\Typora\image-20220805153113906.png)

>ğŸŸ¥ï¼š``form``è¡¨å•æ ‡ç­¾
>
>ğŸŸ©ï¼šè¡¨å•åŸŸã€‚åŒ…å«äº†æ–‡æœ¬æ¡†ã€å¯†ç æ¡†ã€éšè—åŸŸã€å¤šè¡Œæ–‡æœ¬æ¡†ã€å¤é€‰æ¡†ã€å•é€‰æ¡†ã€ä¸‹æ‹‰é€‰æ‹©æ¡†å’Œæ–‡ä»¶ä¸Šä¼ æ¡†ç­‰ã€‚
>
>ğŸŸ¦ï¼šè¡¨å•æŒ‰é’®

**``form``æ ‡ç­¾çš„å±æ€§:**

1ã€**action**:

æäº¤è¡¨å•æ—¶ï¼Œå‘ä½•å¤„å‘é€è¡¨å•æ•°æ®ã€‚
å€¼æ˜¯ URL åœ°å€ï¼Œè¿™ä¸ª URL ä¸“é—¨è´Ÿè´£æ¥æ”¶è¡¨å•æäº¤è¿‡æ¥çš„æ•°æ®ã€‚
å½“ ``form`` è¡¨å•åœ¨æœªæŒ‡å®š action å±æ€§å€¼çš„æƒ…å†µä¸‹ï¼Œaction çš„é»˜è®¤å€¼ä¸ºå½“å‰é¡µé¢çš„ URL åœ°å€ã€‚

æäº¤è¡¨å•åï¼Œé¡µé¢ä¼šè·³è½¬åˆ° action å±æ€§æŒ‡å®šçš„ URL åœ°å€

2ã€**target**:

åœ¨ä½•å¤„æ‰“å¼€action URLã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œtarget çš„å€¼æ˜¯ _selfï¼Œè¡¨ç¤ºåœ¨ç›¸åŒçš„æ¡†æ¶ä¸­æ‰“å¼€ action URLã€‚

|   **å€¼**    | **æè¿°**                       |
| :---------: | :----------------------------- |
|   _blank    | åœ¨æ–°çª—å£ä¸­æ‰“å¼€ã€‚               |
|    _self    | åœ¨ç›¸åŒçš„çª—å£ä¸­æ‰“å¼€ã€‚ï¼ˆé»˜è®¤ï¼‰   |
|   _parent   | åœ¨çˆ¶æ¡†æ¶é›†ä¸­æ‰“å¼€ã€‚ï¼ˆå¾ˆå°‘ç”¨ï¼‰   |
|    _top     | åœ¨æ•´ä¸ªçª—å£ä¸­æ‰“å¼€ã€‚ï¼ˆå¾ˆå°‘ç”¨ï¼‰   |
| *framename* | åœ¨æŒ‡å®šçš„æ¡†æ¶ä¸­æ‰“å¼€ã€‚ï¼ˆå¾ˆå°‘ç”¨ï¼‰ |

3ã€**method**:

method å±æ€§è§„å®šä»¥ä½•ç§æ–¹å¼æŠŠè¡¨å•æ•°æ®æäº¤åˆ° action URLã€‚
å¯é€‰å€¼æœ‰ä¸¤ä¸ªï¼š get(é»˜è®¤) å’Œ postã€‚

ğŸ”¸**æ³¨æ„ï¼š**
get æ–¹å¼é€‚åˆç”¨æ¥æäº¤**å°‘é‡çš„ã€ç®€å•çš„**æ•°æ®ã€‚
post æ–¹å¼é€‚åˆç”¨æ¥æäº¤**å¤§é‡çš„ã€å¤æ‚çš„ã€æˆ–åŒ…å«æ–‡ä»¶ä¸Šä¼ **çš„æ•°æ®ã€‚
å®é™…å¼€å‘ä¸­ï¼Œ``form`` è¡¨å•çš„ post æäº¤æ–¹å¼ç”¨çš„æœ€å¤šï¼Œå¾ˆå°‘ç”¨ getã€‚ä¾‹å¦‚ç™»å½•ã€æ³¨å†Œã€æ·»åŠ æ•°æ®ç­‰è¡¨å•æ“ä½œï¼Œéƒ½éœ€è¦ä½¿ç”¨ post æ–¹å¼æ¥æäº¤è¡¨å•ã€‚

4ã€enctype

è§„å®šåœ¨å‘é€è¡¨å•æ•°æ®ä¹‹å‰å¦‚ä½•å¯¹æ•°æ®è¿›è¡Œç¼–ç ã€‚

å¯é€‰å€¼æœ‰ä¸‰ä¸ªï¼Œé»˜è®¤æƒ…å†µä¸‹enctype çš„å€¼ä¸º application/x-www-form-urlencodedï¼Œè¡¨ç¤ºåœ¨å‘é€å‰ç¼–ç æ‰€æœ‰çš„å­—ç¬¦ã€‚

|              **å€¼**               | **æè¿°**                                                     |
| :-------------------------------: | ------------------------------------------------------------ |
| application/x-www-form-urlencoded | åœ¨å‘é€å‰ç¼–ç æ‰€æœ‰å­—ç¬¦ï¼ˆé»˜è®¤ï¼‰                                 |
|        multipart/form-data        | ä¸å¯¹å­—ç¬¦ç¼–ç ã€‚ åœ¨ä½¿ç”¨åŒ…å«æ–‡ä»¶ä¸Šä¼ æ§ä»¶çš„è¡¨å•æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¯¥å€¼ã€‚ |
|            text/plain             | ç©ºæ ¼è½¬æ¢ä¸º â€œ+â€ åŠ å·ï¼Œä½†ä¸å¯¹ç‰¹æ®Šå­—ç¬¦ç¼–ç ã€‚ï¼ˆå¾ˆå°‘ç”¨ï¼‰          |

ğŸ”¸**æ³¨æ„ï¼š**
åœ¨æ¶‰åŠåˆ°**æ–‡ä»¶ä¸Šä¼ **çš„æ“ä½œæ—¶ï¼Œå¿…é¡»å°† enctype çš„å€¼è®¾ç½®ä¸º **multipart/form-data**
å¦‚æœè¡¨å•çš„æäº¤ä¸æ¶‰åŠåˆ°æ–‡ä»¶ä¸Šä¼ æ“ä½œï¼Œä¸ç”¨åŠ æ­¤å±æ€§å°±è¡Œã€‚

***

==è¡¨å•çš„åŒæ­¥æäº¤==

é€šè¿‡ç‚¹å‡» submit æŒ‰é’®ï¼Œè§¦å‘è¡¨å•æäº¤çš„æ“ä½œï¼Œä»è€Œä½¿é¡µé¢è·³è½¬åˆ° action URL çš„è¡Œä¸ºï¼Œå«åšè¡¨å•çš„åŒæ­¥æäº¤ã€‚

**ç¼ºç‚¹ï¼š**

>1.è¡¨å•åŒæ­¥æäº¤åï¼Œ**æ•´ä¸ªé¡µé¢ä¼šå‘ç”Ÿè·³è½¬**ï¼Œè·³è½¬åˆ° action URL æ‰€æŒ‡å‘çš„åœ°å€ï¼Œç”¨æˆ·ä½“éªŒå·®ã€‚
>2.è¡¨å•åŒæ­¥æäº¤åï¼Œ**é¡µé¢ä¹‹å‰çš„çŠ¶æ€å’Œæ•°æ®ä¼šä¸¢å¤±**ã€‚

**è§£å†³ï¼š**

> è¡¨å•åªè´Ÿè´£é‡‡é›†æ•°æ®ï¼ŒAjax è´Ÿè´£å°†æ•°æ®æäº¤åˆ°æœåŠ¡å™¨ã€‚

***

### Ajaxæäº¤è¡¨å•æ•°æ®

ç›‘å¬è¡¨å•æäº¤äº‹ä»¶ï¼š

```javascript
//æ–¹æ³•ä¸€ï¼š
$('#form1').submit(function(e) {
   alert('ç›‘å¬åˆ°äº†è¡¨å•çš„æäº¤äº‹ä»¶')
})
//æ–¹æ³•äºŒï¼š
$('#form1').on('submit', function(e) {
   alert('ç›‘å¬åˆ°äº†è¡¨å•çš„æäº¤äº‹ä»¶')
})
```

é˜»æ­¢è¡¨å•é»˜è®¤æäº¤è¡Œä¸ºï¼š``event.preventDefault()``

```javascript
$('#form1').submit(function(e) {
   // é˜»æ­¢è¡¨å•æäº¤å’Œé¡µé¢è·³è½¬
   e.preventDefault()
})

$('#form1').on('submit', function(e) {
   // é˜»æ­¢è¡¨å•æäº¤å’Œé¡µé¢è·³è½¬
   e.preventDefault()
})
```

è·å–è¡¨å•æ•°æ®:

jQuery æä¾›çš„ **serialize()** å‡½æ•°ï¼Œå¯ä»¥ä¸€æ¬¡æ€§è·å–è¡¨å•ä¸­æ‰€æœ‰æ•°æ®ã€‚ä½¿ç”¨ **serialize() **æ—¶ï¼Œå¿…é¡»æ¯ä¸ªè¡¨å•å…ƒç´ æ·»åŠ  name å±æ€§ã€‚

ä¾‹å¦‚ï¼šè¡¨å•å¦‚ä¸‹

```
<form id="form1">
    <input type="text" name="name" />
    <input type="password" name="password" />
    <button type="submit">æäº¤</button>
</form>
```

**serialize()** å‡½æ•°è·å–æ•°æ®ï¼š

```
$('#form1').serialize()
// æ•°æ®ï¼š
// name=å€¼&password=å€¼
```

***

### æ¨¡æ¿å¼•æ“

æ¸²æŸ“UIç»“æ„æ—¶é‡åˆ°çš„é—®é¢˜ï¼Œéœ€è¦æ‹¼æ¥çš„å…ƒç´ å¤ªé•¿ï¼Œç»“æ„æ¯”è¾ƒå¤æ‚ï¼š

```javascript
li.push('<li class="list-group-item">'+ item.content +'<span class="badge cmt-date">è¯„è®ºæ—¶é—´ï¼š'+ item.time +'</span><span class="badge cmt-person">è¯„è®ºäººï¼š'+ item.username +'</span></li>')
```

æ¨¡æ¿å¼•æ“ï¼Œå°±æ˜¯ç¨‹åºå‘˜æŒ‡å®šçš„æ¨¡æ¿ç»“æ„å’Œæ•°æ®ã€‚

å®šä¹‰HTMLé¡µé¢ï¼Œç„¶åjsæä¾›æ•°æ®ã€‚

**art-templateæ¨¡æ¿å¼•æ“**ï¼š

ç½‘å€ï¼š[ http://aui.github.io/art-template/zh-cn/index.html]( http://aui.github.io/art-template/zh-cn/index.html)

ä¸‹è½½jsæ–‡ä»¶ï¼šhttp://aui.github.io/art-template/zh-cn/docs/installation.html

![image-20220806193718182](C:\Users\31330\Pictures\Typora\image-20220806193718182.png)

ä½¿ç”¨æ¨¡æ¿å¼•æ“æ­¥éª¤ï¼š

```
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>æ¨¡æ¿å¼•æ“</title>
  <!-- 1. å¯¼å…¥æ¨¡æ¿å¼•æ“template-web.jsæ–‡ä»¶ -->
  <script src="./lib/template-web.js"></script>
  <script src="./lib/jquery.js"></script>
</head>

<body>

  <div id="container"></div>

  <!-- 2. å®šä¹‰æ¨¡æ¿ï¼Œåœ¨scriptä¸­å®šä¹‰çš„HTMLéœ€è¦æŒ‡å®šhtmlè§£ætype="text/html" -->
  <script type="text/html" id="example">
  	<!-- {{}}è¡¨ç¤ºå ä½ç¬¦ï¼Œæ˜¯è¦ä¼ å…¥çš„æ•°æ® -->
    <h1>{{name}}</h1>
  </script>

  <script>
    // 3. å–å‡ºæ•°æ®
    var data = { name: 'roydon' }
    // 4. è°ƒç”¨æ¨¡æ¿å¼•æ“æä¾›çš„ template å‡½æ•°ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæ¨¡æ¿çš„idï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°æ®ï¼‰
    var temp = template('example', data)
    // 5. æ¸²æŸ“HTML
    $('#container').html(temp)
  </script>
  
</body>

</html>
```

**art-templateæ ‡å‡†è¯­æ³•**ï¼š

art-template æä¾›äº† {{ }} è¿™ç§è¯­æ³•æ ¼å¼ï¼Œåœ¨ {{ }} å†…å¯ä»¥è¿›è¡Œå˜é‡è¾“å‡ºï¼Œæˆ–å¾ªç¯æ•°ç»„ç­‰æ“ä½œï¼Œè¿™ç§ {{ }} è¯­æ³•åœ¨ art-template ä¸­è¢«ç§°ä¸ºæ ‡å‡†è¯­æ³•ã€‚

```javascript
{{value}}
{{obj.key}}//å¯¹è±¡å±æ€§çš„è¾“å‡º
{{obj['key']}}//å¯¹è±¡å±æ€§çš„è¾“å‡º
{{a ? b : c}}//ä¸‰å…ƒè¡¨è¾¾å¼
{{a || b}}//é€»è¾‘
{{a + b}}//è¿ç®—
//è‹¥æ•°æ®å€¼åŒ…å«HTMLç»“æ„éœ€è¦å®Œæ•´è¾“å‡ºä¸”è¢«æ¸²æŸ“ï¼Œåˆ™ï¼š
{{@ value }}
```

æ¡ä»¶è¾“å‡ºï¼š

```
{{if condition}} æŒ‰éœ€è¾“å‡ºçš„å†…å®¹ {{/if}}
{{if condition1}} æŒ‰éœ€è¾“å‡ºçš„å†…å®¹ {{else if condition2}} æŒ‰éœ€è¾“å‡ºçš„å†…å®¹ {{/if}}
```

![image-20220806200717353](C:\Users\31330\Pictures\Typora\image-20220806200717353.png)

å¾ªç¯è¾“å‡ºï¼š

```javascript
{{each arr}}
    {{$index}} {{$value}}
{{/each}}
```

ä¾‹å¦‚è¾“å‡ºæ•°ç»„ï¼š{ arr: ['1', '2', '3'] }

```javascript
<ul>
  {{each arr}}
  <li>ç´¢å¼•:{{$index}}å€¼:{{$value}}</li>
  {{/each}}
</ul>
```

è¿‡æ»¤å™¨

```javascript
{{value | filterName}}
//å®šä¹‰è¿‡æ»¤å™¨ï¼Œè¿‡æ»¤å™¨åç§°filterName
template.defaults.imports.filterName = function(value){
    /*returnå¤„ç†çš„ç»“æœ*/
}
```



***

å®ç°åŸç†ï¼š

 **æ­£åˆ™ä¸å­—ç¬¦ä¸²æ“ä½œ**ï¼š

**exec()** å‡½æ•°ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚
å¦‚æœå­—ç¬¦ä¸²ä¸­æœ‰åŒ¹é…çš„å€¼ï¼Œåˆ™è¿”å›è¯¥åŒ¹é…å€¼ï¼Œå¦åˆ™è¿”å› nullã€‚

ä¾‹å¦‚ï¼š

```javascript
var str = 'hello'
var pattern = /o/                         
// è¾“å‡ºçš„ç»“æœ["o", index: 4, input: "hello", groups: undefined]
console.log(pattern.exec(str)) 
```

æ­£åˆ™è¡¨è¾¾å¼ä¸­ ( ) åŒ…èµ·æ¥çš„å†…å®¹è¡¨ç¤ºä¸€ä¸ªåˆ†ç»„ï¼Œå¯ä»¥é€šè¿‡åˆ†ç»„æ¥æå–è‡ªå·±æƒ³è¦çš„å†…å®¹ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
 var str = '<div>æˆ‘æ˜¯{{name}}</div>'
 var pattern = /{{([a-zA-Z]+)}}/

 var patternResult = pattern.exec(str)
 console.log(patternResult)
 // å¾—åˆ° name ç›¸å…³çš„åˆ†ç»„ä¿¡æ¯
 // ["{{name}}", "name", index: 7, input: "<div>æˆ‘æ˜¯{{name}}</div>", groups: undefined]
```

å­—ç¬¦ä¸²çš„**replace()**å‡½æ•°ç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­**ç”¨ä¸€äº›å­—ç¬¦æ›¿æ¢å¦ä¸€äº›å­—ç¬¦**ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š

```javascript
var result = '123456'.replace('123', 'abc') // å¾—åˆ°çš„ result çš„å€¼ä¸ºå­—ç¬¦ä¸² 'abc456'
```

ç”¨whileå¾ªç¯æ›¿æ¢ï¼š

```javascript
var str = '<div>{{name}}ä»Šå¹´{{ age }}å²äº†</div>'
var pattern = /{{\s*([a-zA-Z]+)\s*}}/
var patternResult = null
while(patternResult = pattern.exec(str)) {
   str = str.replace(patternResult[0], patternResult[1])
}
console.log(str) // è¾“å‡º <div>nameä»Šå¹´ageå²äº†</div>
```

æ›¿æ¢ä¸ºæ•°æ®ä¸­çš„å€¼ï¼š

```javascript
var data = { name: 'å¼ ä¸‰', age: 20 }
var str = '<div>{{name}}ä»Šå¹´{{ age }}å²äº†</div>'
var pattern = /{{\s*([a-zA-Z]+)\s*}}/

var patternResult = null
while ((patternResult = pattern.exec(str))) {
   str = str.replace(patternResult[0], data[patternResult[1]])
}
console.log(str)
```



è‡ªå®šä¹‰æ¨¡æ¿å¼•æ“ï¼Œå°è£…templateå‡½æ•°ï¼š

```javascript
function template(id, data) {
  var str = document.getElementById(id).innerHTML
  var pattern = /{{\s*([a-zA-Z]+)\s*}}/
  var pattResult = null
  while (pattResult = pattern.exec(str)) {
    str = str.replace(pattResult[0], data[pattResult[1]])
  }
  return str
}
```

***

## AjaxåŠ å¼º

### XMLHttpRequest

XMLHttpRequestï¼ˆç®€ç§° xhrï¼‰æ˜¯æµè§ˆå™¨æä¾›çš„ Javascript å¯¹è±¡ï¼Œé€šè¿‡å®ƒï¼Œå¯ä»¥è¯·æ±‚æœåŠ¡å™¨ä¸Šçš„æ•°æ®èµ„æºã€‚ä¹‹å‰æ‰€å­¦çš„ jQuery ä¸­çš„ Ajax å‡½æ•°ï¼Œå°±æ˜¯åŸºäº xhr å¯¹è±¡å°è£…å‡ºæ¥çš„ã€‚

<img src="C:\Users\31330\Pictures\Typora\image-20220807203747106.png" alt="image-20220807203747106" style="zoom:67%;" />

#### ä½¿ç”¨xhrå‘èµ·GETè¯·æ±‚

```javascript
// 1. åˆ›å»º XHR å¯¹è±¡
var xhr = new XMLHttpRequest()
// 2. è°ƒç”¨ open å‡½æ•°
xhr.open('GET', 'http://www.liulongbin.top:3006/api/getbooks')
// 3. è°ƒç”¨ send å‡½æ•°ï¼Œå‘èµ· Ajax è¯·æ±‚
xhr.send()
// 4. ç›‘å¬ onreadystatechange äº‹ä»¶
xhr.onreadystatechange = function () {
    //ç›‘å¬ xhr å¯¹è±¡çš„è¯·æ±‚çŠ¶æ€ readyState ï¼›ä¸æœåŠ¡å™¨å“åº”çš„çŠ¶æ€ status
  if (xhr.readyState === 4 && xhr.status === 200) {
    // è·å–æœåŠ¡å™¨å“åº”çš„æ•°æ®
    console.log(xhr.responseText)
  }
}
```

readyStateå±æ€§ï¼šè¡¨ç¤ºå½“å‰ Ajax è¯·æ±‚æ‰€å¤„çš„çŠ¶æ€ï¼Œæ¯ä¸ª Ajax è¯·æ±‚å¿…ç„¶å¤„äºä»¥ä¸‹çŠ¶æ€ä¸­çš„ä¸€ä¸ªï¼š

| **å€¼** | **çŠ¶æ€**         | **æè¿°**                                            |
| ------ | ---------------- | --------------------------------------------------- |
| 0      | UNSENT           | XMLHttpRequest å¯¹è±¡å·²è¢«åˆ›å»ºï¼Œä½†å°šæœªè°ƒç”¨ openæ–¹æ³•ã€‚  |
| 1      | OPENED           | open() æ–¹æ³•å·²ç»è¢«è°ƒç”¨ã€‚                             |
| 2      | HEADERS_RECEIVED | send() æ–¹æ³•å·²ç»è¢«è°ƒç”¨ï¼Œå“åº”å¤´ä¹Ÿå·²ç»è¢«æ¥æ”¶ã€‚         |
| 3      | LOADING          | æ•°æ®æ¥æ”¶ä¸­ï¼Œæ­¤æ—¶ response å±æ€§ä¸­å·²ç»åŒ…å«éƒ¨åˆ†æ•°æ®ã€‚  |
| 4      | DONE             | Ajax è¯·æ±‚å®Œæˆï¼Œè¿™æ„å‘³ç€æ•°æ®ä¼ è¾“å·²ç»å½»åº•å®Œæˆæˆ–å¤±è´¥ã€‚ |

ä½¿ç”¨ xhr å¯¹è±¡å‘èµ·å¸¦å‚æ•°çš„ GET è¯·æ±‚æ—¶ï¼Œåªéœ€åœ¨è°ƒç”¨ xhr.open æœŸé—´ï¼Œä¸º URL åœ°å€æŒ‡å®šå‚æ•°å³å¯ï¼š

è¿™ç§åœ¨ URL åœ°å€åé¢æ‹¼æ¥çš„å‚æ•°ï¼Œå«åšÂ·``æŸ¥è¯¢å­—ç¬¦ä¸²``Â·ã€‚

<img src="C:\Users\31330\Pictures\Typora\image-20220807204403692.png" alt="image-20220807204403692" style="zoom:80%;" />

>
>
>ä»€ä¹ˆæ˜¯æŸ¥è¯¢å­—ç¬¦ä¸²?
>
>å®šä¹‰ï¼šæŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆURL å‚æ•°ï¼‰æ˜¯æŒ‡åœ¨ URL çš„æœ«å°¾åŠ ä¸Šç”¨äºå‘æœåŠ¡å™¨å‘é€ä¿¡æ¯çš„å­—ç¬¦ä¸²ï¼ˆå˜é‡ï¼‰ã€‚
>æ ¼å¼ï¼šå°†è‹±æ–‡çš„`` ? ``æ”¾åœ¨URL çš„æœ«å°¾ï¼Œç„¶åå†åŠ ä¸Š ``å‚æ•°ï¼å€¼`` ï¼Œæƒ³åŠ ä¸Šå¤šä¸ªå‚æ•°çš„è¯ï¼Œä½¿ç”¨ ``&`` ç¬¦å·è¿›è¡Œåˆ†éš”ã€‚ä»¥è¿™ä¸ªå½¢å¼ï¼Œå¯ä»¥å°†æƒ³è¦å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®æ·»åŠ åˆ° URL ä¸­ã€‚
>
>```java
>// ä¸å¸¦å‚æ•°çš„ URL åœ°å€
>http://www.liulongbin.top:3006/api/getbooks
>// å¸¦ä¸€ä¸ªå‚æ•°çš„ URL åœ°å€
>http://www.liulongbin.top:3006/api/getbooks?id=1
>// å¸¦ä¸¤ä¸ªå‚æ•°çš„ URL åœ°å€
>http://www.liulongbin.top:3006/api/getbooks?id=1&bookname=è¥¿æ¸¸è®°
>```
>
>GETè¯·æ±‚æºå¸¦å‚æ•°çš„æœ¬è´¨:
>
>æ— è®ºä½¿ç”¨ $.ajax()ï¼Œè¿˜æ˜¯ä½¿ç”¨ $.get()ï¼Œåˆæˆ–è€…ç›´æ¥ä½¿ç”¨ xhr å¯¹è±¡å‘èµ· GET è¯·æ±‚ï¼Œå½“éœ€è¦æºå¸¦å‚æ•°çš„æ—¶å€™ï¼Œæœ¬è´¨ä¸Šï¼Œéƒ½æ˜¯ç›´æ¥å°†å‚æ•°ä»¥æŸ¥è¯¢å­—ç¬¦ä¸²çš„å½¢å¼ï¼Œè¿½åŠ åˆ° URL åœ°å€çš„åé¢ï¼Œå‘é€åˆ°æœåŠ¡å™¨çš„ã€‚
>
>```javascript
>$.get('url', {name: 'zs', age: 20}, function() {})
>// ç­‰ä»·äº
>$.get('url?name=zs&age=20', function() {})
>
>$.ajax({ method: 'GET', url: 'url', data: {name: 'zs', age: 20}, success: function() {} })
>// ç­‰ä»·äº
>$.ajax({ method: 'GET', url: 'url?name=zs&age=20', success: function() {} })
>```
>
>ä»€ä¹ˆæ˜¯URLç¼–ç ?
>
>URL åœ°å€ä¸­ï¼Œåªå…è®¸å‡ºç°è‹±æ–‡ç›¸å…³çš„å­—æ¯ã€æ ‡ç‚¹ç¬¦å·ã€æ•°å­—ï¼Œå› æ­¤ï¼Œåœ¨ URL åœ°å€ä¸­ä¸å…è®¸å‡ºç°ä¸­æ–‡å­—ç¬¦ã€‚
>å¦‚æœ URL ä¸­éœ€è¦åŒ…å«ä¸­æ–‡è¿™æ ·çš„å­—ç¬¦ï¼Œåˆ™å¿…é¡»å¯¹ä¸­æ–‡å­—ç¬¦è¿›è¡Œ``ç¼–ç ï¼ˆè½¬ä¹‰ï¼‰``ã€‚
>
>æµè§ˆå™¨æä¾›äº† URL ç¼–ç ä¸è§£ç çš„ APIï¼Œåˆ†åˆ«æ˜¯ï¼š
>
>- encodeURI()  ç¼–ç çš„å‡½æ•°
>
>- decodeURI()  è§£ç çš„å‡½æ•°
>
>URLç¼–ç çš„åŸåˆ™ï¼šä½¿ç”¨å®‰å…¨çš„å­—ç¬¦ï¼ˆæ²¡æœ‰ç‰¹æ®Šç”¨é€”æˆ–è€…ç‰¹æ®Šæ„ä¹‰çš„å¯æ‰“å°å­—ç¬¦ï¼‰å»è¡¨ç¤ºé‚£äº›ä¸å®‰å…¨çš„å­—ç¬¦ã€‚
>URLç¼–ç åŸåˆ™çš„é€šä¿—ç†è§£ï¼šä½¿ç”¨è‹±æ–‡å­—ç¬¦å»è¡¨ç¤ºéè‹±æ–‡å­—ç¬¦ã€‚
>
>![image-20220807210457017](C:\Users\31330\Pictures\Typora\image-20220807210457017.png)

***

#### ä½¿ç”¨xhrå‘èµ·POSTè¯·æ±‚

```javascript
// 1. åˆ›å»º xhr å¯¹è±¡
var xhr = new XMLHttpRequest()
// 2. è°ƒç”¨ open å‡½æ•°
xhr.open('POST', 'http://www.liulongbin.top:3006/api/addbook')
// 3. è®¾ç½® Content-Type å±æ€§
xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')
// 4. è°ƒç”¨ send å‡½æ•°,åŒæ—¶å°†æ•°æ®ä»¥æŸ¥è¯¢å­—ç¬¦ä¸²çš„å½¢å¼ï¼Œæäº¤ç»™æœåŠ¡å™¨
xhr.send('bookname=æ°´æµ’ä¼ &author=æ–½è€åºµ&publisher=ä¸Šæµ·å›¾ä¹¦å‡ºç‰ˆç¤¾')
// 5. ç›‘å¬äº‹ä»¶ onreadystatechange
xhr.onreadystatechange = function () {
  if (xhr.readyState === 4 && xhr.status === 200) {
    console.log(xhr.responseText)
  }
}
```

***

### æ•°æ®äº¤æ¢æ ¼å¼

æ•°æ®äº¤æ¢æ ¼å¼ï¼Œå°±æ˜¯æœåŠ¡å™¨ç«¯ä¸å®¢æˆ·ç«¯ä¹‹é—´è¿›è¡Œæ•°æ®ä¼ è¾“ä¸äº¤æ¢çš„æ ¼å¼ã€‚
å‰ç«¯é¢†åŸŸï¼Œç»å¸¸æåŠçš„ä¸¤ç§æ•°æ®äº¤æ¢æ ¼å¼åˆ†åˆ«æ˜¯ XML å’Œ JSONã€‚å…¶ä¸­ XML ç”¨çš„éå¸¸å°‘ï¼Œæ‰€ä»¥ï¼Œé‡ç‚¹è¦å­¦ä¹ çš„æ•°æ®äº¤æ¢æ ¼å¼å°±æ˜¯ JSONã€‚

XML çš„è‹±æ–‡å…¨ç§°æ˜¯ EXtensible Markup Languageï¼Œå³**å¯æ‰©å±•æ ‡è®°è¯­è¨€**ã€‚å› æ­¤ï¼ŒXML å’Œ HTML ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ã€‚è™½ç„¶éƒ½æ˜¯æ ‡è®°è¯­è¨€ï¼Œä½†æ˜¯ï¼Œå®ƒä»¬ä¸¤è€…ä¹‹é—´æ²¡æœ‰ä»»ä½•çš„å…³ç³»ã€‚

- HTML è¢«è®¾è®¡ç”¨æ¥æè¿°ç½‘é¡µä¸Šçš„å†…å®¹ï¼Œæ˜¯ç½‘é¡µå†…å®¹çš„è½½ä½“
- XML è¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œæ˜¯æ•°æ®çš„è½½ä½“

JSON çš„è‹±æ–‡å…¨ç§°æ˜¯ JavaScript Object Notationï¼Œå³â€œJavaScript å¯¹è±¡è¡¨ç¤ºæ³•â€ã€‚ç®€å•æ¥è®²ï¼ŒJSON å°±æ˜¯ Javascript å¯¹è±¡å’Œæ•°ç»„çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ï¼Œå®ƒä½¿ç”¨æ–‡æœ¬è¡¨ç¤ºä¸€ä¸ª JS å¯¹è±¡æˆ–æ•°ç»„çš„ä¿¡æ¯ï¼Œå› æ­¤ï¼ŒJSON çš„æœ¬è´¨æ˜¯å­—ç¬¦ä¸²ã€‚
ä½œç”¨ï¼šJSON æ˜¯ä¸€ç§è½»é‡çº§çš„æ–‡æœ¬æ•°æ®äº¤æ¢æ ¼å¼ï¼Œåœ¨ä½œç”¨ä¸Šç±»ä¼¼äº XMLï¼Œä¸“é—¨ç”¨äºå­˜å‚¨å’Œä¼ è¾“æ•°æ®ï¼Œä½†æ˜¯ JSON æ¯” XML æ›´å°ã€æ›´å¿«ã€æ›´æ˜“è§£æã€‚
ç°çŠ¶ï¼šJSON æ˜¯åœ¨ 2001 å¹´å¼€å§‹è¢«æ¨å¹¿å’Œä½¿ç”¨çš„æ•°æ®æ ¼å¼ï¼Œåˆ°ç°ä»Šä¸ºæ­¢ï¼ŒJSON å·²ç»æˆä¸ºäº†ä¸»æµçš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚

JSON å°±æ˜¯ç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤º Javascript çš„å¯¹è±¡å’Œæ•°ç»„ã€‚æ‰€ä»¥ï¼ŒJSON ä¸­åŒ…å«å¯¹è±¡å’Œæ•°ç»„ä¸¤ç§ç»“æ„ï¼Œé€šè¿‡è¿™ä¸¤ç§ç»“æ„çš„ç›¸äº’åµŒå¥—ï¼Œå¯ä»¥è¡¨ç¤ºå„ç§å¤æ‚çš„æ•°æ®ç»“æ„ã€‚

#### JSONçš„ä¸¤ç§ç»“æ„

å¯¹è±¡ç»“æ„ï¼šå¯¹è±¡ç»“æ„åœ¨ JSON ä¸­è¡¨ç¤ºä¸º { } æ‹¬èµ·æ¥çš„å†…å®¹ã€‚æ•°æ®ç»“æ„ä¸º { key: value, key: value, â€¦ } çš„é”®å€¼å¯¹ç»“æ„ã€‚å…¶ä¸­ï¼Œkey å¿…é¡»æ˜¯ä½¿ç”¨è‹±æ–‡çš„åŒå¼•å·åŒ…è£¹çš„å­—ç¬¦ä¸²ï¼Œvalue çš„æ•°æ®ç±»å‹å¯ä»¥æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€nullã€æ•°ç»„ã€å¯¹è±¡6ç§ç±»å‹ã€‚

```json
{
    name: "zs",
    'age': 20,
    "gender": 'ç”·',
    "address": undefined,
    "hobby": ["åƒé¥­", "ç¡è§‰", 'æ‰“è±†è±†']
    say: function() {}
}
```

æ•°ç»„ç»“æ„ï¼šæ•°ç»„ç»“æ„åœ¨ JSON ä¸­è¡¨ç¤ºä¸º [ ] æ‹¬èµ·æ¥çš„å†…å®¹ã€‚æ•°æ®ç»“æ„ä¸º [ "java", "javascript", 30, true â€¦ ] ã€‚æ•°ç»„ä¸­æ•°æ®çš„ç±»å‹å¯ä»¥æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€nullã€æ•°ç»„ã€å¯¹è±¡6ç§ç±»å‹ã€‚

```json
[ "java", "python", "php" ]
[ 100, 200, 300.5 ]
[ true, false, null ]
[ { "name": "zs", "age": 20}, { "name": "ls", "age": 30} ]
[ [ "è‹¹æœ", "æ¦´è²", "æ¤°å­" ], [ 4, 50, 5 ] ]
```

>JSONè¯­æ³•æ³¨æ„äº‹é¡¹
>
>- å±æ€§åå¿…é¡»ä½¿ç”¨åŒå¼•å·åŒ…è£¹
>- å­—ç¬¦ä¸²ç±»å‹çš„å€¼å¿…é¡»ä½¿ç”¨åŒå¼•å·åŒ…è£¹
>- JSON ä¸­ä¸å…è®¸ä½¿ç”¨å•å¼•å·è¡¨ç¤ºå­—ç¬¦ä¸²
>- SON ä¸­ä¸èƒ½å†™æ³¨é‡Š
>- JSON çš„æœ€å¤–å±‚å¿…é¡»æ˜¯å¯¹è±¡æˆ–æ•°ç»„æ ¼å¼
>- ä¸èƒ½ä½¿ç”¨ undefined æˆ–å‡½æ•°ä½œä¸º JSON çš„å€¼
> JSON çš„ä½œç”¨ï¼šåœ¨è®¡ç®—æœºä¸ç½‘ç»œä¹‹é—´å­˜å‚¨å’Œä¼ è¾“æ•°æ®ã€‚
>  JSON çš„æœ¬è´¨ï¼šç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤º Javascript å¯¹è±¡æ•°æ®æˆ–æ•°ç»„æ•°æ®

**JSONå’ŒJSå¯¹è±¡çš„å…³ç³»:**

JSON æ˜¯ JS å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ï¼Œå®ƒä½¿ç”¨æ–‡æœ¬è¡¨ç¤ºä¸€ä¸ª JS å¯¹è±¡çš„ä¿¡æ¯ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼š

```javascript
//è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡
var obj = {a: 'Hello', b: 'World'}

//è¿™æ˜¯ä¸€ä¸ª JSON å­—ç¬¦ä¸²ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²
var json = '{"a": "Hello", "b": "World"}' 

```

**JSONå’ŒJSå¯¹è±¡çš„äº’è½¬:**

1. JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º JS å¯¹è±¡ï¼Œä½¿ç”¨ JSON.parse() æ–¹æ³•ï¼š

```javascript
var obj = JSON.parse('{"a": "Hello", "b": "World"}')
//ç»“æœæ˜¯ {a: 'Hello', b: 'World'}
```

2.  JS å¯¹è±¡è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ JSON.stringify() æ–¹æ³•ï¼š

```javascript
var json = JSON.stringify({a: 'Hello', b: 'World'})
//ç»“æœæ˜¯ '{"a": "Hello", "b": "World"}'
```

**åºåˆ—åŒ–å’Œååºåˆ—åŒ–**

æŠŠæ•°æ®å¯¹è±¡**è½¬æ¢ä¸ºå­—ç¬¦ä¸²**çš„è¿‡ç¨‹ï¼Œå«åšåºåˆ—åŒ–ï¼Œä¾‹å¦‚ï¼šè°ƒç”¨ JSON.stringify() å‡½æ•°çš„æ“ä½œï¼Œå«åš JSON åºåˆ—åŒ–ã€‚
æŠŠå­—ç¬¦ä¸²**è½¬æ¢ä¸ºæ•°æ®å¯¹è±¡**çš„è¿‡ç¨‹ï¼Œå«åšååºåˆ—åŒ–ï¼Œä¾‹å¦‚ï¼šè°ƒç”¨ JSON.parse() å‡½æ•°çš„æ“ä½œï¼Œå«åš JSON ååºåˆ—åŒ–ã€‚

***

## å°è£…è‡ªå·±çš„Ajaxå‡½æ•°





ç•¥~







***

## XMLHttpRequest Level2çš„æ–°ç‰¹æ€§



æ—§ç‰ˆXMLHttpRequestçš„ç¼ºç‚¹:

- åªæ”¯æŒæ–‡æœ¬æ•°æ®çš„ä¼ è¾“ï¼Œæ— æ³•ç”¨æ¥è¯»å–å’Œä¸Šä¼ æ–‡ä»¶
- ä¼ é€å’Œæ¥æ”¶æ•°æ®æ—¶ï¼Œæ²¡æœ‰è¿›åº¦ä¿¡æ¯ï¼Œåªèƒ½æç¤ºæœ‰æ²¡æœ‰å®Œæˆ

### XMLHttpRequest Level2çš„æ–°åŠŸèƒ½

- å¯ä»¥è®¾ç½® HTTP è¯·æ±‚çš„æ—¶é™
- å¯ä»¥ä½¿ç”¨ FormData å¯¹è±¡ç®¡ç†è¡¨å•æ•°æ®
- å¯ä»¥ä¸Šä¼ æ–‡ä»¶
- å¯ä»¥è·å¾—æ•°æ®ä¼ è¾“çš„è¿›åº¦ä¿¡æ¯

### è®¾ç½®HTTPè¯·æ±‚æ—¶é™

æœ‰æ—¶ï¼ŒAjax æ“ä½œå¾ˆè€—æ—¶ï¼Œè€Œä¸”æ— æ³•é¢„çŸ¥è¦èŠ±å¤šå°‘æ—¶é—´ã€‚å¦‚æœç½‘é€Ÿå¾ˆæ…¢ï¼Œç”¨æˆ·å¯èƒ½è¦ç­‰å¾ˆä¹…ã€‚æ–°ç‰ˆæœ¬çš„ XMLHttpRequest å¯¹è±¡ï¼Œå¢åŠ äº† timeout å±æ€§ï¼Œå¯ä»¥è®¾ç½® HTTP è¯·æ±‚çš„æ—¶é™ï¼š

```
 xhr.timeout = 3000
```

æœ€é•¿ç­‰å¾…æ—¶é—´è®¾ä¸º 3000 æ¯«ç§’ã€‚è¿‡äº†è¿™ä¸ªæ—¶é™ï¼Œå°±è‡ªåŠ¨åœæ­¢HTTPè¯·æ±‚ã€‚ä¸ä¹‹é…å¥—çš„è¿˜æœ‰ä¸€ä¸ª timeout äº‹ä»¶ï¼Œç”¨æ¥æŒ‡å®šå›è°ƒå‡½æ•°ï¼š

```javascript
 xhr.ontimeout = function(event){
     alert('è¯·æ±‚è¶…æ—¶ï¼')
 }
```

### FormDataå¯¹è±¡ç®¡ç†è¡¨å•æ•°æ®

Ajax æ“ä½œå¾€å¾€ç”¨æ¥æäº¤è¡¨å•æ•°æ®ã€‚ä¸ºäº†æ–¹ä¾¿è¡¨å•å¤„ç†ï¼ŒHTML5 æ–°å¢äº†ä¸€ä¸ª FormData å¯¹è±¡ï¼Œå¯ä»¥æ¨¡æ‹Ÿè¡¨å•æ“ä½œï¼š

```javascript
// 1. åˆ›å»º FormData å®ä¾‹
var fd = new FormData()
// 2. è°ƒç”¨ append å‡½æ•°ï¼Œå‘ FormData ä¸­è¿½åŠ æ•°æ®
fd.append('uname', 'zs')
fd.append('upwd', '123456')
// 3. åˆ›å»º XMLHttpRequest å¯¹è±¡
var xhr = new XMLHttpRequest()
// 4. æŒ‡å®šè¯·æ±‚ç±»å‹ä¸URLåœ°å€
xhr.open('POST', 'http://www.liulongbin.top:3006/api/formdata')
// 5. ç›´æ¥æäº¤ FormData å¯¹è±¡ï¼Œè¿™ä¸æäº¤ç½‘é¡µè¡¨å•çš„æ•ˆæœï¼Œå®Œå…¨ä¸€æ ·
xhr.send(fd)

xhr.onreadystatechange = function () {
  if (xhr.readyState === 4 && xhr.status === 200) {
    console.log(JSON.parse(xhr.responseText))
  }
}
```

FormDataå¯¹è±¡ä¹Ÿå¯ä»¥ç”¨æ¥è·å–ç½‘é¡µè¡¨å•çš„å€¼ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
// DOM æ“ä½œï¼Œè·å–åˆ° form è¡¨å•å…ƒç´ 
var form = document.querySelector('#form1')
form.addEventListener('submit', function (e) {
  e.preventDefault()
  // æ ¹æ® form è¡¨å•åˆ›å»º FormData å¯¹è±¡ï¼Œä¼šè‡ªåŠ¨å°†è¡¨å•æ•°æ®å¡«å……åˆ° FormData å¯¹è±¡ä¸­
  var fd = new FormData(form)
  var xhr = new XMLHttpRequest()
  xhr.open('POST', 'http://www.liulongbin.top:3006/api/formdata')
  xhr.send(fd)

  xhr.onreadystatechange = function () {
    if (xhr.readyState === 4 && xhr.status === 200) {
      console.log(JSON.parse(xhr.responseText))
    }
  }
})
```

***

### ä¸Šä¼ æ–‡ä»¶

```html
<!-- 1. æ–‡ä»¶é€‰æ‹©æ¡† -->
<input type="file" id="file1" />
<!-- 2. ä¸Šä¼ æ–‡ä»¶çš„æŒ‰é’® -->
<button id="btnUpload">ä¸Šä¼ æ–‡ä»¶</button>
<br />
<!-- 3. img æ ‡ç­¾ï¼Œæ¥æ˜¾ç¤ºä¸Šä¼ æˆåŠŸä»¥åçš„å›¾ç‰‡ -->
<img src="" alt="" id="img" width="800" />
```

```javascript
// 1. è·å–åˆ°æ–‡ä»¶ä¸Šä¼ æŒ‰é’®
var btnUpload = document.querySelector('#btnUpload')
// 2. ä¸ºæŒ‰é’®ç»‘å®šå•å‡»äº‹ä»¶å¤„ç†å‡½æ•°
btnUpload.addEventListener('click', function () {
  // 3. è·å–åˆ°ç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶åˆ—è¡¨
  var files = document.querySelector('#file1').files
  if (files.length <= 0) return alert('è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼')
  var fd = new FormData()
  // å°†ç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ï¼Œæ·»åŠ åˆ° FormData ä¸­
  fd.append('avatar', files[0])
  var xhr = new XMLHttpRequest()
  xhr.open('POST', 'http://www.liulongbin.top:3006/api/upload/avatar')
  xhr.send(fd)

  xhr.onreadystatechange = function () {
    if (xhr.readyState === 4 && xhr.status === 200) {
      var data = JSON.parse(xhr.responseText)
      console.log(data);
      if (data.status === 200) {
        // ä¸Šä¼ æˆåŠŸ
        document.querySelector('#img').src = 'http://www.liulongbin.top:3006' + data.url
      } else {
        // ä¸Šä¼ å¤±è´¥
        console.log('å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼' + data.message)
      }
    }
  }
})
```





**æ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼ è¿›åº¦**

æ–°ç‰ˆæœ¬çš„ XMLHttpRequest å¯¹è±¡ä¸­ï¼Œå¯ä»¥é€šè¿‡ç›‘å¬ xhr.upload.onprogress äº‹ä»¶ï¼Œæ¥è·å–åˆ°æ–‡ä»¶çš„ä¸Šä¼ è¿›åº¦ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š

```javascript
<!-- bootstrap ä¸­çš„è¿›åº¦æ¡ -->
<div class="progress" style="width: 500px; margin: 15px 10px;">
  <div class="progress-bar progress-bar-striped active" style="width: 0%" id="percent">
    0%
  </div>
</div>

// å°†ç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ï¼Œæ·»åŠ åˆ° FormData ä¸­
fd.append('avatar', files[0])
var xhr = new XMLHttpRequest()
// ç›‘å¬æ–‡ä»¶ä¸Šä¼ çš„è¿›åº¦
xhr.upload.onprogress = function (e) {
  if (e.lengthComputable) {
    // è®¡ç®—å‡ºä¸Šä¼ çš„è¿›åº¦
    var procentComplete = Math.ceil((e.loaded / e.total) * 100)
    console.log(procentComplete)
    // åŠ¨æ€è®¾ç½®è¿›åº¦æ¡
    $('#percent').attr('style', 'width: ' + procentComplete + '%;').html(procentComplete + '%')
  }
}

xhr.upload.onload = function () {
  $('#percent').removeClass().addClass('progress-bar progress-bar-success')
}
```

***

###  jQueryå®ç°æ–‡ä»¶ä¸Šä¼ 

```html
<input type="file" id="file1" />
<button id="btnUpload">ä¸Šä¼ æ–‡ä»¶</button>
<br />
<img src="./images/loading.gif" alt="" style="display: none;" id="loading" />
```

```javascript
$(function () {
  // ç›‘å¬åˆ°Ajaxè¯·æ±‚è¢«å‘èµ·äº†$(document).ajaxStart() å‡½æ•°ä¼šç›‘å¬å½“å‰æ–‡æ¡£å†…æ‰€æœ‰çš„ Ajax è¯·æ±‚ã€‚
  $(document).ajaxStart(function () {
    $('#loading').show()
  })

  // ç›‘å¬åˆ° Ajax å®Œæˆçš„äº‹ä»¶
  $(document).ajaxStop(function () {
    $('#loading').hide()
  })

  $('#btnUpload').on('click', function () {
    //1. å°† jQuery å¯¹è±¡è½¬åŒ–ä¸º DOM å¯¹è±¡ï¼Œå¹¶è·å–é€‰ä¸­çš„æ–‡ä»¶åˆ—è¡¨
    var files = $('#file1')[0].files
    if (files.length <= 0) {
      return alert('è¯·é€‰æ‹©æ–‡ä»¶åå†ä¸Šä¼ ï¼')
    }
	// å‘ FormData ä¸­è¿½åŠ æ–‡ä»¶
    var fd = new FormData()
    fd.append('avatar', files[0])

    // å‘èµ· jQuery çš„ Ajax è¯·æ±‚ï¼Œä¸Šä¼ æ–‡ä»¶
    $.ajax({
      method: 'POST',
      url: 'http://www.liulongbin.top:3006/api/upload/avatar',
      data: fd,
      // ä¸ä¿®æ”¹ Content-Type å±æ€§ï¼Œä½¿ç”¨ FormData é»˜è®¤çš„ Content-Type å€¼
      contentType: false,
      // ä¸å¯¹ FormData ä¸­çš„æ•°æ®è¿›è¡Œ url ç¼–ç ï¼Œè€Œæ˜¯å°† FormData æ•°æ®åŸæ ·å‘é€åˆ°æœåŠ¡å™¨
      processData: false,
      success: function (res) {
        console.log(res)
      }
    })
  })
})
```

***

## axios

Axios æ˜¯ä¸“æ³¨äº**ç½‘ç»œæ•°æ®è¯·æ±‚**çš„åº“ã€‚
ç›¸æ¯”äºåŸç”Ÿçš„ XMLHttpRequest å¯¹è±¡ï¼Œaxios ç®€å•æ˜“ç”¨ã€‚
ç›¸æ¯”äº jQueryï¼Œaxios æ›´åŠ è½»é‡åŒ–ï¼Œåªä¸“æ³¨äºç½‘ç»œæ•°æ®è¯·æ±‚ã€‚

### axioså‘èµ·GETè¯·æ±‚

```javascript
document.querySelector('#btn1').addEventListener('click', function () {
  var url = 'http://www.liulongbin.top:3006/api/get'
  // è¯·æ±‚çš„å‚æ•°å¯¹è±¡
  var paramsObj = { name: 'zs', age: 20 }
  axios.get(url, { params: paramsObj }).then(function (res) {
    console.log(res.data)
  })
})
```

### axioså‘èµ·POSTè¯·æ±‚

```javascript
document.querySelector('#btn2').addEventListener('click', function () {
  var url = 'http://www.liulongbin.top:3006/api/post'
  // è¦æäº¤åˆ°æœåŠ¡å™¨çš„æ•°æ®
  var dataObj = { address: 'åŒ—äº¬', location: 'é¡ºä¹‰åŒº' }
  axios.post(url, dataObj).then(function (res) {
    // res.data æ˜¯æœåŠ¡å™¨è¿”å›çš„æ•°æ®
    console.log(res.data)
  })
})
```

### ç›´æ¥ä½¿ç”¨axioså‘èµ·è¯·æ±‚

axios ä¹Ÿæä¾›äº†ç±»ä¼¼äº jQuery ä¸­ $.ajax() çš„å‡½æ•°ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š

```javascript
axios({
    method: 'è¯·æ±‚ç±»å‹',
    url: 'è¯·æ±‚çš„URLåœ°å€',
    data: {/*POSTæ•°æ®*/},
    params: {/*GETå‚æ•°*/}
}).then(callback)
```

1. ç›´æ¥ä½¿ç”¨axioså‘èµ·GETè¯·æ±‚:

```javascript
document.querySelector('#btn3').addEventListener('click', function () {
  var url = 'http://www.liulongbin.top:3006/api/get'
  var paramsData = { name: 'é’¢é“ä¾ ', age: 35 }
  axios({
    method: 'GET',
    url: url,
    params: paramsData
  }).then(function (res) {
    console.log(res.data)
  })
})
```

2. ç›´æ¥ä½¿ç”¨axioså‘èµ·POSTè¯·æ±‚:

```javascript
document.querySelector('#btn4').addEventListener('click', function () {
  axios({
    method: 'POST',
    url: 'http://www.liulongbin.top:3006/api/post',
    data: {
      name: 'abc',
      age: 18,
      gender: 'å¥³'
    }
  }).then(function (res) {
    console.log(res.data)
  })
})
```

***

## è·¨åŸŸä¸JSONP

### åŒæºç­–ç•¥

åŒæºç­–ç•¥ï¼ˆè‹±æ–‡å…¨ç§° Same origin policyï¼‰æ˜¯æµè§ˆå™¨æä¾›çš„ä¸€ä¸ªå®‰å…¨åŠŸèƒ½ã€‚

å¦‚æœä¸¤ä¸ªé¡µé¢çš„åè®®ï¼ŒåŸŸåå’Œç«¯å£éƒ½ç›¸åŒï¼Œåˆ™ä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„æºã€‚
ä¾‹å¦‚ï¼Œä¸‹è¡¨ç»™å‡ºäº†ç›¸å¯¹äº http://www.test.com/index.html é¡µé¢çš„åŒæºæ£€æµ‹ï¼š

æœªæŒ‡å®šç«¯å£çš„ï¼Œç«¯å£é»˜è®¤ä¸º80.

| **URL**                            | **æ˜¯å¦åŒæº** | **åŸå› **                                  |
| ---------------------------------- | ------------ | ----------------------------------------- |
| http://www.test.com/other.html     | æ˜¯           | åŒæºï¼ˆåè®®ã€åŸŸåã€ç«¯å£ç›¸åŒï¼‰              |
| https://www.test.com/about.html    | å¦           | åè®®ä¸åŒï¼ˆhttp ä¸ httpsï¼‰                 |
| http://blog.test.com/movie.html    | å¦           | åŸŸåä¸åŒï¼ˆwww.test.com ä¸ blog.test.comï¼‰ |
| http://www.test.com:7001/home.html | å¦           | ç«¯å£ä¸åŒï¼ˆé»˜è®¤çš„ 80 ç«¯å£ä¸ 7001 ç«¯å£ï¼‰    |
| http://www.test.com:80/main.html   | æ˜¯           | åŒæºï¼ˆåè®®ã€åŸŸåã€ç«¯å£ç›¸åŒï¼‰              |

MDN å®˜æ–¹ç»™å®šçš„æ¦‚å¿µï¼šåŒæºç­–ç•¥é™åˆ¶äº†ä»åŒä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸æ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯ä¸€ä¸ªç”¨äºéš”ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„é‡è¦å®‰å…¨æœºåˆ¶ã€‚

é€šä¿—çš„ç†è§£ï¼šæµè§ˆå™¨è§„å®šï¼ŒA ç½‘ç«™çš„ JavaScriptï¼Œä¸å…è®¸å’ŒéåŒæºçš„ç½‘ç«™ C ä¹‹é—´ï¼Œè¿›è¡Œèµ„æºçš„äº¤äº’ï¼Œä¾‹å¦‚ï¼š

- æ— æ³•è¯»å–éåŒæºç½‘é¡µçš„ Cookieã€LocalStorage å’Œ IndexedDB
- æ— æ³•æ¥è§¦éåŒæºç½‘é¡µçš„ DOM
- æ— æ³•å‘éåŒæºåœ°å€å‘é€ Ajax è¯·æ±‚

### è·¨åŸŸ

åŒæºæŒ‡çš„æ˜¯ä¸¤ä¸ª URL çš„åè®®ã€åŸŸåã€ç«¯å£ä¸€è‡´ï¼Œåä¹‹ï¼Œåˆ™æ˜¯è·¨åŸŸã€‚
å‡ºç°è·¨åŸŸçš„æ ¹æœ¬åŸå› ï¼šæµè§ˆå™¨çš„åŒæºç­–ç•¥ä¸å…è®¸éåŒæºçš„ URL ä¹‹é—´è¿›è¡Œèµ„æºçš„äº¤äº’ã€‚
ç½‘é¡µï¼šhttp://www.test.com/index.html
æ¥å£ï¼šhttp://www.api.com/userlist

![image-20220808185723157](C:\Users\31330\Pictures\Typora\image-20220808185723157.png)

æ³¨æ„ï¼šæµè§ˆå™¨å…è®¸å‘èµ·è·¨åŸŸè¯·æ±‚ï¼Œä½†æ˜¯ï¼Œè·¨åŸŸè¯·æ±‚å›æ¥çš„æ•°æ®ï¼Œä¼šè¢«æµè§ˆå™¨æ‹¦æˆªï¼Œæ— æ³•è¢«é¡µé¢è·å–åˆ°ï¼

**å®ç°è·¨åŸŸæ•°æ®è¯·æ±‚:**

ä¸¤ç§è§£å†³æ–¹æ¡ˆ: JSONP å’Œ CORSã€‚
**JSONP**ï¼šå‡ºç°çš„æ—©ï¼Œå…¼å®¹æ€§å¥½ï¼ˆå…¼å®¹ä½ç‰ˆæœ¬IEï¼‰ã€‚æ˜¯å‰ç«¯ç¨‹åºå‘˜ä¸ºäº†è§£å†³è·¨åŸŸé—®é¢˜ï¼Œè¢«è¿«æƒ³å‡ºæ¥çš„ä¸€ç§ä¸´æ—¶è§£å†³æ–¹æ¡ˆã€‚ç¼ºç‚¹æ˜¯åªæ”¯æŒ GET è¯·æ±‚ï¼Œä¸æ”¯æŒ POST è¯·æ±‚ã€‚
**CORS**ï¼šå‡ºç°çš„è¾ƒæ™šï¼Œå®ƒæ˜¯ W3C æ ‡å‡†ï¼Œå±äºè·¨åŸŸ Ajax è¯·æ±‚çš„æ ¹æœ¬è§£å†³æ–¹æ¡ˆã€‚æ”¯æŒ GET å’Œ POST è¯·æ±‚ã€‚ç¼ºç‚¹æ˜¯ä¸å…¼å®¹æŸäº›ä½ç‰ˆæœ¬çš„æµè§ˆå™¨ã€‚

***

### JSONP

JSONP (JSON with Padding) æ˜¯ JSON çš„ä¸€ç§â€œä½¿ç”¨æ¨¡å¼â€ï¼Œå¯ç”¨äºè§£å†³ä¸»æµæµè§ˆå™¨çš„è·¨åŸŸæ•°æ®è®¿é—®çš„é—®é¢˜ã€‚

ç”±äºæµè§ˆå™¨åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œç½‘é¡µä¸­æ— æ³•é€šè¿‡ Ajax è¯·æ±‚éåŒæºçš„æ¥å£æ•°æ®ã€‚ä½†æ˜¯ <script> æ ‡ç­¾ä¸å—æµè§ˆå™¨åŒæºç­–ç•¥çš„å½±å“ï¼Œå¯ä»¥é€šè¿‡ src å±æ€§ï¼Œè¯·æ±‚éåŒæºçš„ js è„šæœ¬ã€‚
å› æ­¤ï¼ŒJSONP çš„å®ç°åŸç†ï¼Œå°±æ˜¯é€šè¿‡ <script> æ ‡ç­¾çš„ src å±æ€§ï¼Œè¯·æ±‚è·¨åŸŸçš„æ•°æ®æ¥å£ï¼Œå¹¶é€šè¿‡å‡½æ•°è°ƒç”¨çš„å½¢å¼ï¼Œæ¥æ”¶è·¨åŸŸæ¥å£å“åº”å›æ¥çš„æ•°æ®ã€‚

å®ç°ï¼š

```javascript
<script>
    function abc(data) {
      console.log('JSONPå“åº”å›æ¥çš„æ•°æ®æ˜¯ï¼š')
      console.log(data)
    }
</script>

<script src="http://ajax.frontend.itheima.net:3006/api/jsonp?callback=abc&name=ls&age=30"></script>
```

ç”±äº JSONP æ˜¯é€šè¿‡ <script> æ ‡ç­¾çš„ src å±æ€§ï¼Œæ¥å®ç°è·¨åŸŸæ•°æ®è·å–çš„ï¼Œæ‰€ä»¥ï¼ŒJSONP åªæ”¯æŒ GET æ•°æ®è¯·æ±‚ï¼Œä¸æ”¯æŒ POST è¯·æ±‚ã€‚

æ³¨æ„ï¼šJSONP å’Œ Ajax ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œä¸èƒ½æŠŠ JSONP è¯·æ±‚æ•°æ®çš„æ–¹å¼å«åš Ajaxï¼Œå› ä¸º JSONP æ²¡æœ‰ç”¨åˆ° XMLHttpRequest è¿™ä¸ªå¯¹è±¡ã€‚

### jQueryä¸­çš„JSONP

jQuery æä¾›çš„ $.ajax() å‡½æ•°ï¼Œé™¤äº†å¯ä»¥å‘èµ·çœŸæ­£çš„ Ajax æ•°æ®è¯·æ±‚ä¹‹å¤–ï¼Œè¿˜èƒ½å¤Ÿå‘èµ· JSONP æ•°æ®è¯·æ±‚ï¼Œä¾‹å¦‚ï¼š

```javascript
$.ajax({
  url: 'http://ajax.frontend.itheima.net:3006/api/jsonp?name=zs&age=20',
  // ä»£è¡¨æˆ‘ä»¬è¦å‘èµ·JSONPçš„æ•°æ®è¯·æ±‚
  // å¦‚æœè¦ä½¿ç”¨ $.ajax() å‘èµ· JSONP è¯·æ±‚ï¼Œå¿…é¡»æŒ‡å®š datatype ä¸º jsonp
  dataType: 'jsonp',
  // å‘é€åˆ°æœåŠ¡ç«¯çš„å‚æ•°åç§°ï¼Œé»˜è®¤å€¼ä¸º callback
  jsonp: 'callback',
  // è‡ªå®šä¹‰çš„å›è°ƒå‡½æ•°åç§°ï¼Œé»˜è®¤å€¼ä¸º jQueryxxx æ ¼å¼
  jsonpCallback: 'abc',
  success: function (res) {
    console.log(res)
  }
})
```

jQuery ä¸­çš„ JSONPï¼Œä¹Ÿæ˜¯é€šè¿‡ <script> æ ‡ç­¾çš„ src å±æ€§å®ç°è·¨åŸŸæ•°æ®è®¿é—®çš„ï¼Œåªä¸è¿‡ï¼ŒjQuery é‡‡ç”¨çš„æ˜¯åŠ¨æ€åˆ›å»ºå’Œç§»é™¤ <script> æ ‡ç­¾çš„æ–¹å¼ï¼Œæ¥å‘èµ· JSONP æ•°æ®è¯·æ±‚ã€‚

- åœ¨å‘èµ· JSONP è¯·æ±‚çš„æ—¶å€™ï¼ŒåŠ¨æ€å‘ <header> ä¸­ append ä¸€ä¸ª <script> æ ‡ç­¾ï¼›
- åœ¨ JSONP è¯·æ±‚æˆåŠŸä»¥åï¼ŒåŠ¨æ€ä» <header> ä¸­ç§»é™¤åˆšæ‰ append è¿›å»çš„ <script> æ ‡ç­¾ï¼›



é˜²æŠ–ç­–ç•¥ï¼ˆdebounceï¼‰æ˜¯å½“äº‹ä»¶è¢«è§¦å‘åï¼Œå»¶è¿Ÿ n ç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™ n ç§’å†…äº‹ä»¶åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚

<img src="C:\Users\31330\Pictures\Typora\image-20220808211340145.png" alt="image-20220808211340145" style="zoom:80%;" />

é˜²æŠ–çš„åº”ç”¨åœºæ™¯ï¼š

- ç”¨æˆ·åœ¨è¾“å…¥æ¡†ä¸­è¿ç»­è¾“å…¥ä¸€ä¸²å­—ç¬¦æ—¶ï¼Œå¯ä»¥é€šè¿‡é˜²æŠ–ç­–ç•¥ï¼Œåªåœ¨è¾“å…¥å®Œåï¼Œæ‰æ‰§è¡ŒæŸ¥è¯¢çš„è¯·æ±‚ï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆå‡å°‘è¯·æ±‚æ¬¡æ•°ï¼ŒèŠ‚çº¦è¯·æ±‚èµ„æºã€‚

å®ç°è¾“å…¥æ¡†çš„é˜²æŠ–ï¼š



```javascript
 var timer = null                    //1. é˜²æŠ–åŠ¨çš„timer
 function debounceSearch(keywords) { //2. å®šä¹‰é˜²æŠ–çš„å‡½æ•°
    timer=setTimeout(function(){
    //å‘èµ·JSONPè¯·æ±‚
    getSuggestList(keywords)
    },500)
 }
 $('#ipt').on('keyup', function() {  //3. åœ¨è§¦å‘ keyup äº‹ä»¶æ—¶ï¼Œç«‹å³æ¸…ç©º timer
	clearTimeout(timer)
    // ...çœç•¥å…¶ä»–ä»£ç 
    debounceSearch(keywords)
 })
```

èŠ‚æµï¼š

èŠ‚æµç­–ç•¥ï¼ˆthrottleï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œå¯ä»¥å‡å°‘ä¸€æ®µæ—¶é—´å†…äº‹ä»¶çš„è§¦å‘é¢‘ç‡ã€‚

![image-20220809162336097](C:\Users\31330\Pictures\Typora\image-20220809162336097.png)

èŠ‚æµçš„åº”ç”¨åœºæ™¯ï¼š

- é¼ æ ‡è¿ç»­ä¸æ–­åœ°è§¦å‘æŸäº‹ä»¶ï¼ˆå¦‚ç‚¹å‡»ï¼‰ï¼Œåªåœ¨å•ä½æ—¶é—´å†…åªè§¦å‘ä¸€æ¬¡ï¼›
- æ‡’åŠ è½½æ—¶è¦ç›‘å¬è®¡ç®—æ»šåŠ¨æ¡çš„ä½ç½®ï¼Œä½†ä¸å¿…æ¯æ¬¡æ»‘åŠ¨éƒ½è§¦å‘ï¼Œå¯ä»¥é™ä½è®¡ç®—çš„é¢‘ç‡ï¼Œè€Œä¸å¿…å»æµªè´¹ CPU èµ„æºï¼›

ä½¿ç”¨èŠ‚æµä¼˜åŒ–é¼ æ ‡è·Ÿéšæ•ˆæœï¼š

```javascript
// 1. è·å–åˆ°å›¾ç‰‡
var angel = $('#angel')
// æ­¥éª¤1. å®šä¹‰èŠ‚æµé˜€
var timer = null
// 2. ç»‘å®š mousemove äº‹ä»¶
$(document).on('mousemove', function (e) {
  // 3ï¼šåˆ¤æ–­èŠ‚æµé˜€æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™è¯æ˜è·ç¦»ä¸Šæ¬¡æ‰§è¡Œé—´éš”ä¸è¶³16æ¯«ç§’
  if (timer) { return }
  // 4ï¼šå¼€å¯å»¶æ—¶å™¨
  timer = setTimeout(function () {
    $(angel).css('top', e.pageY + 'px').css('left', e.pageX + 'px')
    // 5.å½“è®¾ç½®äº†é¼ æ ‡è·Ÿéšæ•ˆæœåï¼Œæ¸…ç©º timer èŠ‚æµé˜€ï¼Œæ–¹ä¾¿ä¸‹æ¬¡å¼€å¯å»¶æ—¶å™¨
    timer = null
  }, 16)
})
```

***

HTTP åè®®å³è¶…æ–‡æœ¬ä¼ é€åè®® (HyperText Transfer Protocol) ï¼Œå®ƒè§„å®šäº†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œç½‘é¡µå†…å®¹ä¼ è¾“æ—¶ï¼Œæ‰€å¿…é¡»éµå®ˆçš„ä¼ è¾“æ ¼å¼ã€‚
ä¾‹å¦‚ï¼š
 å®¢æˆ·ç«¯è¦ä»¥HTTPåè®®è¦æ±‚çš„æ ¼å¼æŠŠæ•°æ®æäº¤åˆ°æœåŠ¡å™¨
 æœåŠ¡å™¨è¦ä»¥HTTPåè®®è¦æ±‚çš„æ ¼å¼æŠŠå†…å®¹å“åº”ç»™å®¢æˆ·ç«¯

HTTP åè®®é‡‡ç”¨äº† **è¯·æ±‚/å“åº”** çš„äº¤äº’æ¨¡å‹ã€‚



å®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚å«åš HTTP è¯·æ±‚ï¼Œå®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡å™¨çš„æ¶ˆæ¯ï¼Œå«åš HTTP è¯·æ±‚æ¶ˆæ¯ã€‚HTTP è¯·æ±‚æ¶ˆæ¯åˆå«åš HTTP è¯·æ±‚æŠ¥æ–‡ã€‚



![image-20220809164939317](C:\Users\31330\Pictures\Typora\image-20220809164939317.png)

è¯·æ±‚å¤´éƒ¨ç”¨æ¥æè¿°å®¢æˆ·ç«¯çš„åŸºæœ¬ä¿¡æ¯ï¼Œä»è€ŒæŠŠå®¢æˆ·ç«¯ç›¸å…³çš„ä¿¡æ¯å‘ŠçŸ¥æœåŠ¡å™¨ã€‚æ¯”å¦‚ï¼šUser-Agent ç”¨æ¥è¯´æ˜å½“å‰æ˜¯ä»€ä¹ˆç±»å‹çš„æµè§ˆå™¨ï¼›Content-Type ç”¨æ¥æè¿°å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®æ ¼å¼ï¼›Accept ç”¨æ¥æè¿°å®¢æˆ·ç«¯èƒ½å¤Ÿæ¥æ”¶ä»€ä¹ˆç±»å‹çš„è¿”å›å†…å®¹ï¼›Accept-Language ç”¨æ¥æè¿°å®¢æˆ·ç«¯æœŸæœ›æ¥æ”¶å“ªç§äººç±»è¯­è¨€çš„æ–‡æœ¬å†…å®¹ã€‚
è¯·æ±‚å¤´éƒ¨ç”±å¤šè¡Œ é”®/å€¼å¯¹ ç»„æˆï¼Œæ¯è¡Œçš„é”®å’Œå€¼ä¹‹é—´ç”¨è‹±æ–‡çš„å†’å·åˆ†éš”ã€‚

æœ€åä¸€ä¸ªè¯·æ±‚å¤´å­—æ®µçš„åé¢æ˜¯ä¸€ä¸ªç©ºè¡Œï¼Œé€šçŸ¥æœåŠ¡å™¨è¯·æ±‚å¤´éƒ¨è‡³æ­¤ç»“æŸã€‚
è¯·æ±‚æ¶ˆæ¯ä¸­çš„ç©ºè¡Œï¼Œç”¨æ¥åˆ†éš”è¯·æ±‚å¤´éƒ¨ä¸è¯·æ±‚ä½“ã€‚

è¯·æ±‚ä½“ä¸­å­˜æ”¾çš„ï¼Œæ˜¯è¦é€šè¿‡ POST æ–¹å¼æäº¤åˆ°æœåŠ¡å™¨çš„æ•°æ®ã€‚åªæœ‰ POST è¯·æ±‚æ‰æœ‰è¯·æ±‚ä½“ï¼ŒGET è¯·æ±‚æ²¡æœ‰è¯·æ±‚ä½“ï¼

***

å“åº”æ¶ˆæ¯å°±æ˜¯æœåŠ¡å™¨å“åº”ç»™å®¢æˆ·ç«¯çš„æ¶ˆæ¯å†…å®¹ï¼Œä¹Ÿå«ä½œå“åº”æŠ¥æ–‡ã€‚

![image-20220809170704651](C:\Users\31330\Pictures\Typora\image-20220809170704651.png)

çŠ¶æ€è¡Œç”± HTTP åè®®ç‰ˆæœ¬ã€çŠ¶æ€ç å’ŒçŠ¶æ€ç çš„æè¿°æ–‡æœ¬ 3 ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä»–ä»¬ä¹‹é—´ä½¿ç”¨ç©ºæ ¼éš”å¼€;

![image-20220809170823806](C:\Users\31330\Pictures\Typora\image-20220809170823806.png)

å“åº”å¤´éƒ¨ç”¨æ¥æè¿°**æœåŠ¡å™¨çš„åŸºæœ¬ä¿¡æ¯**ã€‚å“åº”å¤´éƒ¨ç”±å¤šè¡Œ é”®/å€¼å¯¹ ç»„æˆï¼Œæ¯è¡Œçš„é”®å’Œå€¼ä¹‹é—´ç”¨è‹±æ–‡çš„å†’å·åˆ†éš”ã€‚

https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers

åœ¨æœ€åä¸€ä¸ªå“åº”å¤´éƒ¨å­—æ®µç»“æŸä¹‹åï¼Œä¼šç´§è·Ÿä¸€ä¸ªç©ºè¡Œï¼Œç”¨æ¥é€šçŸ¥å®¢æˆ·ç«¯å“åº”å¤´éƒ¨è‡³æ­¤ç»“æŸã€‚
å“åº”æ¶ˆæ¯ä¸­çš„ç©ºè¡Œï¼Œç”¨æ¥åˆ†éš”å“åº”å¤´éƒ¨ä¸å“åº”ä½“ã€‚

å“åº”ä½“ä¸­å­˜æ”¾çš„ï¼Œæ˜¯æœåŠ¡å™¨å“åº”ç»™å®¢æˆ·ç«¯çš„èµ„æºå†…å®¹ã€‚![image-20220809171001542](C:\Users\31330\Pictures\Typora\image-20220809171001542.png)

***

HTTPçš„è¯·æ±‚æ–¹æ³•



| **åºå·** | **æ–¹æ³•** | **æè¿°**                                                     |
| -------- | -------- | ------------------------------------------------------------ |
| 1        | GET      | (æŸ¥è¯¢)å‘é€è¯·æ±‚æ¥è·å¾—æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œè¯·æ±‚ä½“ä¸­ä¸ä¼šåŒ…å«è¯·æ±‚æ•°æ®ï¼Œè¯·æ±‚æ•°æ®æ”¾åœ¨åè®®å¤´ä¸­ã€‚ |
| 2        | POST     | (æ–°å¢)å‘æœåŠ¡å™¨æäº¤èµ„æºï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­æäº¤ç»™æœåŠ¡å™¨ã€‚ |
| 3        | PUT      | (ä¿®æ”¹)å‘æœåŠ¡å™¨æäº¤èµ„æºï¼Œå¹¶ä½¿ç”¨æäº¤çš„æ–°èµ„æºï¼Œæ›¿æ¢æ‰æœåŠ¡å™¨å¯¹åº”çš„æ—§èµ„æºã€‚ |
| 4        | DELETE   | (åˆ é™¤)è¯·æ±‚æœåŠ¡å™¨åˆ é™¤æŒ‡å®šçš„èµ„æºã€‚                             |
| 5        | HEAD     | HEAD æ–¹æ³•è¯·æ±‚ä¸€ä¸ªä¸ GET è¯·æ±‚çš„å“åº”ç›¸åŒçš„å“åº”ï¼Œä½†æ²¡æœ‰å“åº”ä½“ã€‚ |
| 6        | OPTIONS  | è·å–httpæœåŠ¡å™¨æ”¯æŒçš„httpè¯·æ±‚æ–¹æ³•ï¼Œå…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œæ¯”å¦‚ajaxè·¨åŸŸæ—¶çš„é¢„æ£€ç­‰ã€‚ |
| 7        | CONNECT  | å»ºç«‹ä¸€ä¸ªåˆ°ç”±ç›®æ ‡èµ„æºæ ‡è¯†çš„æœåŠ¡å™¨çš„éš§é“ã€‚                     |
| 8        | TRACE    | æ²¿ç€åˆ°ç›®æ ‡èµ„æºçš„è·¯å¾„æ‰§è¡Œä¸€ä¸ªæ¶ˆæ¯ç¯å›æµ‹è¯•ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­ã€‚ |
| 9        | PATCH    | æ˜¯å¯¹ PUT æ–¹æ³•çš„è¡¥å……ï¼Œç”¨æ¥å¯¹å·²çŸ¥èµ„æºè¿›è¡Œå±€éƒ¨æ›´æ–° ã€‚           |

![image-20220809171306566](C:\Users\31330\Pictures\Typora\image-20220809171306566.png)

HTTPå“åº”çŠ¶æ€ç 

HTTP å“åº”çŠ¶æ€ç ï¼ˆHTTP Status Codeï¼‰ï¼Œä¹Ÿå±äº HTTP åè®®çš„ä¸€éƒ¨åˆ†ï¼Œç”¨æ¥æ ‡è¯†å“åº”çš„çŠ¶æ€ã€‚
å“åº”çŠ¶æ€ç ä¼šéšç€å“åº”æ¶ˆæ¯ä¸€èµ·è¢«å‘é€è‡³å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œæµè§ˆå™¨æ ¹æ®æœåŠ¡å™¨è¿”å›çš„å“åº”çŠ¶æ€ç ï¼Œå°±èƒ½çŸ¥é“è¿™æ¬¡ HTTP è¯·æ±‚çš„ç»“æœæ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥äº†ã€‚

HTTP çŠ¶æ€ç ç”±ä¸‰ä¸ªåè¿›åˆ¶æ•°å­—ç»„æˆï¼Œç¬¬ä¸€ä¸ªåè¿›åˆ¶æ•°å­—å®šä¹‰äº†çŠ¶æ€ç çš„ç±»å‹ï¼Œåä¸¤ä¸ªæ•°å­—ç”¨æ¥å¯¹çŠ¶æ€ç è¿›è¡Œç»†åˆ†ã€‚
HTTP çŠ¶æ€ç å…±åˆ†ä¸º 5 ç§ç±»å‹ï¼š

| **åˆ†ç±»** | **åˆ†ç±»æè¿°**                                                 |
| -------- | ------------------------------------------------------------ |
| 1**      | ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œï¼ˆå®é™…å¼€å‘ä¸­å¾ˆå°‘é‡åˆ° 1** ç±»å‹çš„çŠ¶æ€ç ï¼‰ |
| 2**      | æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†                                   |
| 3**      | é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚                           |
| 4**      | å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚                   |
| 5**      | æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯               |

![image-20220809171412682](C:\Users\31330\Pictures\Typora\image-20220809171412682.png)

å®Œæ•´çš„ HTTP å“åº”çŠ¶æ€ç ï¼Œå¯ä»¥å‚è€ƒ MDN å®˜æ–¹æ–‡æ¡£ https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status

2** èŒƒå›´çš„çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å·²æˆåŠŸæ¥æ”¶åˆ°è¯·æ±‚å¹¶è¿›è¡Œå¤„ç†ã€‚å¸¸è§çš„ 2** ç±»å‹çš„çŠ¶æ€ç å¦‚ä¸‹ï¼š

| **çŠ¶æ€ç ** | **çŠ¶æ€ç è‹±æ–‡åç§°** | **ä¸­æ–‡æè¿°**                                                |
| ---------- | ------------------ | ----------------------------------------------------------- |
| 200        | OK                 | è¯·æ±‚æˆåŠŸã€‚ä¸€èˆ¬ç”¨äº GET ä¸ POST è¯·æ±‚                         |
| 201        | Created            | å·²åˆ›å»ºã€‚æˆåŠŸè¯·æ±‚å¹¶åˆ›å»ºäº†æ–°çš„èµ„æºï¼Œé€šå¸¸ç”¨äº POST æˆ– PUT è¯·æ±‚ |

3** èŒƒå›´çš„çŠ¶æ€ç ï¼Œè¡¨ç¤ºè¡¨ç¤ºæœåŠ¡å™¨è¦æ±‚å®¢æˆ·ç«¯é‡å®šå‘ï¼Œéœ€è¦å®¢æˆ·ç«¯è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆèµ„æºçš„è¯·æ±‚ã€‚å¸¸è§çš„ 3** ç±»å‹çš„çŠ¶æ€ç å¦‚ä¸‹ï¼š

| **çŠ¶æ€ç ** | **çŠ¶æ€ç è‹±æ–‡åç§°** | **ä¸­æ–‡æè¿°**                                                 |
| ---------- | ------------------ | ------------------------------------------------------------ |
| 301        | Moved Permanently  | æ°¸ä¹…ç§»åŠ¨ã€‚è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…çš„ç§»åŠ¨åˆ°æ–°URIï¼Œè¿”å›ä¿¡æ¯ä¼šåŒ…æ‹¬æ–°çš„URIï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å®šå‘åˆ°æ–°URIã€‚ä»Šåä»»ä½•æ–°çš„è¯·æ±‚éƒ½åº”ä½¿ç”¨æ–°çš„URIä»£æ›¿ |
| 302        | Found              | ä¸´æ—¶ç§»åŠ¨ã€‚ä¸301ç±»ä¼¼ã€‚ä½†èµ„æºåªæ˜¯ä¸´æ—¶è¢«ç§»åŠ¨ã€‚å®¢æˆ·ç«¯åº”ç»§ç»­ä½¿ç”¨åŸæœ‰URI |
| 304        | Not Modified       | æœªä¿®æ”¹ã€‚æ‰€è¯·æ±‚çš„èµ„æºæœªä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤çŠ¶æ€ç æ—¶ï¼Œä¸ä¼šè¿”å›ä»»ä½•èµ„æºï¼ˆå“åº”æ¶ˆæ¯ä¸­ä¸åŒ…å«å“åº”ä½“ï¼‰ã€‚å®¢æˆ·ç«¯é€šå¸¸ä¼šç¼“å­˜è®¿é—®è¿‡çš„èµ„æºã€‚ |

4** èŒƒå›´çš„çŠ¶æ€ç ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯çš„è¯·æ±‚æœ‰éæ³•å†…å®¹ï¼Œä»è€Œå¯¼è‡´è¿™æ¬¡è¯·æ±‚å¤±è´¥ã€‚å¸¸è§çš„ 4** ç±»å‹çš„çŠ¶æ€ç å¦‚ä¸‹ï¼š

| **çŠ¶æ€ç ** | **çŠ¶æ€ç è‹±æ–‡åç§°** | **ä¸­æ–‡æè¿°**                                                 |
| ---------- | ------------------ | ------------------------------------------------------------ |
| 400        | Bad Request        | 1ã€è¯­ä¹‰æœ‰è¯¯ï¼Œå½“å‰è¯·æ±‚æ— æ³•è¢«æœåŠ¡å™¨ç†è§£ã€‚é™¤éè¿›è¡Œä¿®æ”¹ï¼Œå¦åˆ™å®¢æˆ·ç«¯ä¸åº”è¯¥é‡å¤æäº¤è¿™ä¸ªè¯·æ±‚ã€‚ 2ã€è¯·æ±‚å‚æ•°æœ‰è¯¯ã€‚ |
| 401        | Unauthorized       | å½“å‰è¯·æ±‚éœ€è¦ç”¨æˆ·éªŒè¯ã€‚                                       |
| 403        | Forbidden          | æœåŠ¡å™¨å·²ç»ç†è§£è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œå®ƒã€‚                         |
| 404        | Not Found          | æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ‰¾åˆ°èµ„æºï¼ˆç½‘é¡µï¼‰ã€‚                 |
| 408        | Request Timeout    | è¯·æ±‚è¶…æ—¶ã€‚æœåŠ¡å™¨ç­‰å¾…å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚æ—¶é—´è¿‡é•¿ï¼Œè¶…æ—¶ã€‚         |

5** èŒƒå›´çš„çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨æœªèƒ½æ­£å¸¸å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚è€Œå‡ºç°æ„å¤–é”™è¯¯ã€‚å¸¸è§çš„ 5** ç±»å‹çš„çŠ¶æ€ç å¦‚ä¸‹ï¼š

| **çŠ¶æ€ç ** | **çŠ¶æ€ç è‹±æ–‡åç§°**    | **ä¸­æ–‡æè¿°**                                                 |
| ---------- | --------------------- | ------------------------------------------------------------ |
| 500        | Internal Server Error | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚                               |
| 501        | Not Implemented       | æœåŠ¡å™¨ä¸æ”¯æŒè¯¥è¯·æ±‚æ–¹æ³•ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚åªæœ‰ GET å’Œ HEAD è¯·æ±‚æ–¹æ³•æ˜¯è¦æ±‚æ¯ä¸ªæœåŠ¡å™¨å¿…é¡»æ”¯æŒçš„ï¼Œå…¶å®ƒè¯·æ±‚æ–¹æ³•åœ¨ä¸æ”¯æŒçš„æœåŠ¡å™¨ä¸Šä¼šè¿”å›501 |
| 503        | Service Unavailable   | ç”±äºè¶…è½½æˆ–ç³»ç»Ÿç»´æŠ¤ï¼ŒæœåŠ¡å™¨æš‚æ—¶çš„æ— æ³•å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚       |



***

éªŒè¯æ‰‹æœºå·çš„æ­£åˆ™:const regex = /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
