# 并发编程面试题及答案整理，2022年最新，汇总版


### 全部答案，更新日期：2022年5月18日，直接下载吧！

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://gitee.com/souyunku/DevBooks/blob/master/docs/index.md)



### [1、方法区溢出的原因？](https://gitee.com/souyunku/DevBooks/blob/master/docs/并发编程/并发编程面试题及答案整理，2021年最新，汇总版.md#1方法区溢出的原因)  


方法区主要存放类型信息，如类名、访问修饰符、常量池、字段描述、方法描述等。只要不断在运行时产生大量类，方法区就会溢出。例如使用 JDK 反射或 CGLib 直接操作字节码在运行时生成大量的类。很多框架如 Spring、Hibernate 等对类增强时都会使用 CGLib 这类字节码技术，增强的类越多就需要越大的方法区保证动态生成的新类型可以载入内存，也就更容易导致方法区溢出。

JDK8 使用元空间取代永久代，HotSpot 提供了一些参数作为元空间防御措施，例如 `-XX:MetaspaceSize` 指定元空间初始大小，达到该值会触发 GC 进行类型卸载，同时收集器会对该值进行调整，如果释放大量空间就适当降低该值，如果释放很少空间就适当提高。


### [2、对象都是优先分配在年轻代上的吗？](https://gitee.com/souyunku/DevBooks/blob/master/docs/并发编程/并发编程面试题及答案整理，2021年最新，汇总版.md#2对象都是优先分配在年轻代上的吗)  


不是。当新生代内存不够时，老年代分配担保。而大对象则是直接在老年代分配。


### [3、为什么 Thread 类的 sleep()和 yield ()方法是静态的？](https://gitee.com/souyunku/DevBooks/blob/master/docs/并发编程/并发编程面试题及答案整理，2021年最新，汇总版.md#3为什么-thread-类的-sleep和-yield-方法是静态的)  


Thread 类的 sleep()和 yield()方法将在当前正在执行的线程上运行。所以在其他处于等待状态的线程上调用这些方法是没有意义的。这就是为什么这些方法是静态的。它们可以在当前正在执行的线程中工作，并避免程序员错误的认为可以在其他非运行线程调用这些方法。


### [4、什么是多线程中的上下文切换？](https://gitee.com/souyunku/DevBooks/blob/master/docs/并发编程/并发编程面试题及答案整理，2021年最新，汇总版.md#4什么是多线程中的上下文切换)  


多线程会共同使用一组计算机上的CPU，而线程数大于给程序分配的CPU数量时，为了让各个线程都有执行的机会，就需要轮转使用CPU。不同的线程切换使用CPU发生的切换数据等就是上下文切换。


### [5、JVM 中一次完整的 GC 流程（从 ygc 到 fgc）是怎样的](https://gitee.com/souyunku/DevBooks/blob/master/docs/并发编程/并发编程面试题及答案整理，2021年最新，汇总版.md#5jvm-中一次完整的-gc-流程从-ygc-到-fgc是怎样的)  


这题不是很明白意思(水平有限...如果知道这题的意思可在评论区留言呀~~)

因为按我的理解：执行fgc是不会执行ygc的呀~~

**YGC和FGC是什么**

**1、** YGC ：对新生代堆进行gc。频率比较高，因为大部分对象的存活寿命较短，在新生代里被回收。性能耗费较小。

**2、** FGC ：全堆范围的gc。默认堆空间使用到达80%(可调整)的时候会触发fgc。以我们生产环境为例，一般比较少会触发fgc，有时10天或一周左右会有一次。

**什么时候执行YGC和FGC**

**1、** a.eden空间不足,执行 young gc

**2、** b.old空间不足，perm空间不足，调用方法`System.gc()` ，ygc时的悲观策略, dump live的内存信息时(jmap –dump:live)，都会执行full gc


### [6、Minor GC与Full GC分别在什么时候发生？](https://gitee.com/souyunku/DevBooks/blob/master/docs/并发编程/并发编程面试题及答案整理，2021年最新，汇总版.md#6minor-gc与full-gc分别在什么时候发生)  


新生代内存不够用时候发生MGC也叫YGC，JVM内存不够的时候发生FGC


### [7、什么是重排序](https://gitee.com/souyunku/DevBooks/blob/master/docs/并发编程/并发编程面试题及答案整理，2021年最新，汇总版.md#7什么是重排序)  


程序执行的顺序按照代码的先后顺序执行。

一般来说处理器为了提高程序运行效率，可能会对输入代码进行优化，进行重新排序（重排序），它不保证程序中各个语句的执行先后顺序同代码中的顺序一致，但是它会保证程序最终执行结果和代码顺序执行的结果是一致的。

```
int a = 5;//语句1
int r = 3;//语句2
a = a + 2;//语句3
r = a*a;  //语句4
```

则因为重排序，他还可能执行顺序为（这里标注的是语句的执行顺序） 2-1-3-4，1-3-2-4 但绝不可能 2-1-4-3，因为这打破了依赖关系。

显然重排序对单线程运行是不会有任何问题，但是多线程就不一定了，所以我们在多线程编程时就得考虑这个问题了。


### [8、线程的调度策略](https://gitee.com/souyunku/DevBooks/blob/master/docs/并发编程/并发编程面试题及答案整理，2021年最新，汇总版.md#8线程的调度策略)  


**线程调度器选择优先级最高的线程运行，但是，如果发生以下情况，就会终止线程的运行：**

**1、** 线程体中调用了yield方法让出了对cpu的占用权利

**2、** 线程体中调用了sleep方法使线程进入睡眠状态

**3、** 线程由于IO操作受到阻塞

**4、** 另外一个更高优先级线程出现

5）在支持时间片的系统中，该线程的时间片用完


### [9、JVM 选项 -XX:+UseCompressedOops 有什么作用？为什么要使用](https://gitee.com/souyunku/DevBooks/blob/master/docs/并发编程/并发编程面试题及答案整理，2021年最新，汇总版.md#9jvm-选项--xx:+usecompressedoops-有什么作用为什么要使用)  


当你将你的应用从 32 位的 JVM 迁移到 64 位的 JVM 时，由于对象的指针从32 位增加到了 64 位，因此堆内存会突然增加，差不多要翻倍。这也会对 CPU缓存（容量比内存小很多）的数据产生不利的影响。因为，迁移到 64 位的 JVM主要动机在于可以指定最大堆大小，通过压缩OOP 可以节省一定的内存。通过-XX:+UseCompressedOops 选项，JVM 会使用 32 位的 OOP，而不是 64 位的 OOP。


### [10、invokedynamic指令是干什么的？](https://gitee.com/souyunku/DevBooks/blob/master/docs/并发编程/并发编程面试题及答案整理，2021年最新，汇总版.md#10invokedynamic指令是干什么的)  


属于比较高级的题目。没看过虚拟机的一般是不知道的。所以如果你不太熟悉，不要气馁，加油！（小拳拳锤你胸口）。

`invokedynamic`是`Java7`之后新加入的字节码指令，使用它可以实现一些动态类型语言的功能。我们使用的Lambda表达式，在字节码上就是invokedynamic指令实现的。它的功能有点类似反射，但它是使用方法句柄实现的，执行效率更高。


### 11、对象的内存布局了解吗？
### 12、Java死锁以及如何避免？
### 13、CMS都有哪些问题？
### 14、什么是线程组，为什么在Java中不推荐使用？
### 15、Java 虚拟机栈的作用？
### 16、final不可变对象，它对写并发应用有什么帮助？
### 17、Minor Gc和Full GC 有什么不同呢？
### 18、类加载为什么要使用双亲委派模式，有没有什么场景是打破了这个模式？
### 19、说一下堆内存中对象的分配的基本策略
### 20、什么是ThreadPoolExecutor？
### 21、老年代与标记复制算法
### 22、如何判断一个类是无用的类?
### 23、谈谈对 OOM 的认识
### 24、强引用、软引用、弱引用、虚引用是什么？
### 25、标记整理算法(Mark-Compact)
### 26、死锁与活锁的区别，死锁与饥饿的区别？
### 27、代码示例
### 28、对象的访问方式有哪些？
### 29、创建线程的有哪些方式？
### 30、什么是多线程
### 31、类加载器





## [全部答案，更新日期：2022年5月18日，直接下载吧！](https://gitee.com/souyunku/DevBooks/blob/master/docs/daan.md)

### 下载链接：[全部答案，整理好了](https://gitee.com/souyunku/DevBooks/blob/master/docs/daan.md)




## [新增：高清PDF：172份，7701页，最新整理](https://gitee.com/souyunku/DevBooks/blob/master/docs/daan.md)




